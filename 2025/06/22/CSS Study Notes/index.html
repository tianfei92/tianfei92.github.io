

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Ariel">
  <meta name="keywords" content="">
  
    <meta name="description" content="第一章：CSS 基础与核心概念1.1 CSS 语法与选择器（基础选择器、组合选择器、属性选择器）基础语法结构1234&#x2F;* 标准规则 *&#x2F;selector &#123;  property: value; &#x2F;* 声明块 *&#x2F;&#125;  基础选择器元素选择器 1div &#123; color: red; &#125;   权重：0,0,1 适用场景：全局样式覆盖  类选择器 1.active &amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="CSS 专题知识学习">
<meta property="og:url" content="https://tianfei92.github.io/2025/06/22/CSS%20Study%20Notes/index.html">
<meta property="og:site_name" content="Ariel&#39;s Blog">
<meta property="og:description" content="第一章：CSS 基础与核心概念1.1 CSS 语法与选择器（基础选择器、组合选择器、属性选择器）基础语法结构1234&#x2F;* 标准规则 *&#x2F;selector &#123;  property: value; &#x2F;* 声明块 *&#x2F;&#125;  基础选择器元素选择器 1div &#123; color: red; &#125;   权重：0,0,1 适用场景：全局样式覆盖  类选择器 1.active &amp;">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-06-22T08:47:01.000Z">
<meta property="article:modified_time" content="2025-06-26T06:01:05.067Z">
<meta property="article:author" content="Ariel">
<meta property="article:tag" content="CSS">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>CSS 专题知识学习 - Ariel&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"tianfei92.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Ariel</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CSS 专题知识学习"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-06-22 16:47" pubdate>
          2025年6月22日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          12k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          100 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">CSS 专题知识学习</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="第一章：CSS-基础与核心概念"><a href="#第一章：CSS-基础与核心概念" class="headerlink" title="第一章：CSS 基础与核心概念"></a>第一章：CSS 基础与核心概念</h1><h2 id="1-1-CSS-语法与选择器（基础选择器、组合选择器、属性选择器）"><a href="#1-1-CSS-语法与选择器（基础选择器、组合选择器、属性选择器）" class="headerlink" title="1.1 CSS 语法与选择器（基础选择器、组合选择器、属性选择器）"></a>1.1 CSS 语法与选择器（基础选择器、组合选择器、属性选择器）</h2><h3 id="基础语法结构"><a href="#基础语法结构" class="headerlink" title="基础语法结构"></a>基础语法结构</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 标准规则 */</span><br>selector &#123;<br>  property: value; <span class="hljs-comment">/* 声明块 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="基础选择器"><a href="#基础选择器" class="headerlink" title="基础选择器"></a>基础选择器</h3><p><strong>元素选择器</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-tag">div</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>权重：0,0,1</li>
<li>适用场景：全局样式覆盖</li>
</ul>
<p><strong>类选择器</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.active</span> &#123; <span class="hljs-attribute">background</span>: blue; &#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>权重：0,1,0</li>
<li>实践：BEM命名规范（block__element–modifier）</li>
</ul>
<span id="more"></span>

<p><strong>ID 选择器</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-id">#header</span> &#123; <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>; &#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>权重：1,0,0</li>
<li>禁用场景：React&#x2F;Vue中易导致样式污染（组件化开发慎用）</li>
</ul>
<p><strong>通配选择器</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS">* &#123; <span class="hljs-attribute">box-sizing</span>: border-box; &#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>权重：0,0,0</li>
<li>性能影响：大型项目避免过度使用</li>
</ul>
<h3 id="组合选择器"><a href="#组合选择器" class="headerlink" title="组合选择器"></a>组合选择器</h3><p><strong>后代选择器</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">a</span> &#123; <span class="hljs-attribute">color</span>: green; &#125; <span class="hljs-comment">/* 所有层级后代 */</span><br></code></pre></td></tr></table></figure>

<ul>
<li>权重：各选择器权重相加</li>
<li>性能陷阱：深层嵌套增加渲染成本（建议限制 3 层）</li>
</ul>
<p><strong>子选择器</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-tag">ul</span> &gt; <span class="hljs-selector-tag">li</span> &#123; <span class="hljs-attribute">list-style</span>: none; &#125; <span class="hljs-comment">/* 仅直接子元素 */</span><br></code></pre></td></tr></table></figure>

<ul>
<li>与后代选择器区别：不匹配非直接嵌套元素</li>
</ul>
<p><strong>相邻兄弟选择器</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-tag">h1</span> + <span class="hljs-selector-tag">p</span> &#123; <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0</span>; &#125; <span class="hljs-comment">/* 紧邻的下一个兄弟 */</span><br></code></pre></td></tr></table></figure>

<ul>
<li>典型场景：表单元素间隔控制</li>
</ul>
<p><strong>通用兄弟选择器</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-tag">h2</span> ~ <span class="hljs-selector-tag">p</span> &#123; <span class="hljs-attribute">color</span>: gray; &#125; <span class="hljs-comment">/* 后续所有同级兄弟 */</span><br></code></pre></td></tr></table></figure>

<ul>
<li>应用案例：目录标题与内容样式关联</li>
</ul>
<h3 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h3><table>
<thead>
<tr>
<th align="left">选择器类型</th>
<th align="left">示例</th>
<th align="left">匹配规则</th>
<th align="left">权重</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[attr]</td>
<td align="left">[target]</td>
<td align="left">存在该属性即可</td>
<td align="left">0,1,0</td>
</tr>
<tr>
<td align="left">[attr&#x3D;value]</td>
<td align="left">[lang&#x3D;”en”]</td>
<td align="left">属性值完全匹配</td>
<td align="left">0,1,0</td>
</tr>
<tr>
<td align="left">[attr~&#x3D;value]</td>
<td align="left">[class~&#x3D;”logo”]</td>
<td align="left">属性值包含该词（空格分隔）</td>
<td align="left">0,1,0</td>
</tr>
<tr>
<td align="left">[attr&#x3D;value]</td>
<td align="left">[lang&#x3D;”zh”]</td>
<td align="left">属性值为zh或以zh-开头</td>
<td align="left">0,1,0</td>
</tr>
<tr>
<td align="left">[attr^&#x3D;value]</td>
<td align="left">[href^&#x3D;”https”]</td>
<td align="left">属性值以指定字符串开头</td>
<td align="left">0,1,0</td>
</tr>
<tr>
<td align="left">[attr$&#x3D;value]</td>
<td align="left">[src$&#x3D;”.png”]</td>
<td align="left">属性值以指定字符串结尾</td>
<td align="left">0,1,0</td>
</tr>
<tr>
<td align="left">[attr*&#x3D;value]</td>
<td align="left">[data*&#x3D;”error”]</td>
<td align="left">属性值包含子字符串</td>
<td align="left">0,1,0</td>
</tr>
</tbody></table>
<h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h3><p><strong>Q：<code>.nav li &gt; a</code> 和 <code>.nav &gt; li &gt; a</code> 的权重与作用域差异？</strong></p>
<p>权重相同（0,2,1），但后者限制 <code>li</code> 必须为 <code>.nav</code> 的直接子元素</p>
<p><strong>Q：<code>div:not([class])</code> 会匹配哪些元素？</strong></p>
<p>所有没有 class 属性的 div 元素</p>
<h2 id="1-2-盒模型（标准盒模型-vs-怪异盒模型）"><a href="#1-2-盒模型（标准盒模型-vs-怪异盒模型）" class="headerlink" title="1.2 盒模型（标准盒模型 vs. 怪异盒模型）"></a>1.2 盒模型（标准盒模型 vs. 怪异盒模型）</h2><h3 id="核心概念对比"><a href="#核心概念对比" class="headerlink" title="核心概念对比"></a>核心概念对比</h3><table>
<thead>
<tr>
<th align="left">特性</th>
<th align="left">标准盒模型（W3C）</th>
<th align="left">怪异盒模型（Quirks Mode）</th>
</tr>
</thead>
<tbody><tr>
<td align="left">触发条件</td>
<td align="left">box-sizing: content-box</td>
<td align="left">box-sizing: border-box</td>
</tr>
<tr>
<td align="left">宽度计算</td>
<td align="left">width &#x3D; content宽度</td>
<td align="left">width &#x3D; content + padding + border</td>
</tr>
<tr>
<td align="left">高度计算</td>
<td align="left">height &#x3D; content高度</td>
<td align="left">height &#x3D; content + padding + border</td>
</tr>
<tr>
<td align="left">默认场景</td>
<td align="left">现代浏览器默认模式</td>
<td align="left">传统IE5及更早浏览器</td>
</tr>
</tbody></table>
<h3 id="代码验证"><a href="#代码验证" class="headerlink" title="代码验证"></a>代码验证</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;div class=&quot;std-box&quot;&gt;标准盒模型&lt;/div&gt;<br>&lt;div class=&quot;weird-box&quot;&gt;怪异盒模型&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.std-box</span> &#123;<br>  <span class="hljs-attribute">box-sizing</span>: content-box; <span class="hljs-comment">/* 默认值可省略 */</span><br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;<br>  <span class="hljs-comment">/* 实际占用宽度：100 + 20*2 + 5*2 = 150px */</span><br>&#125;<br><br><span class="hljs-selector-class">.weird-box</span> &#123;<br>  <span class="hljs-attribute">box-sizing</span>: border-box;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid blue;<br>  <span class="hljs-comment">/* 实际占用宽度：100px (content自动压缩为50px) */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="思考-1"><a href="#思考-1" class="headerlink" title="思考"></a>思考</h3><p><strong>Q：为什么大型项目普遍采用 <code>border-box</code>？</strong></p>
<ul>
<li>开发体验优化：轻松实现栅格化布局，无需计算 padding</li>
<li>性能优势：减少重排计算（浏览器无需重新计算内容区尺寸）</li>
<li>设计系统适配：确保 UI 标注尺寸与实际渲染尺寸一致</li>
</ul>
<h2 id="1-3-布局模式（块级、行内、行内块、Flex、Grid）"><a href="#1-3-布局模式（块级、行内、行内块、Flex、Grid）" class="headerlink" title="1.3 布局模式（块级、行内、行内块、Flex、Grid）"></a>1.3 布局模式（块级、行内、行内块、Flex、Grid）</h2><h3 id="块级布局（Block）"><a href="#块级布局（Block）" class="headerlink" title="块级布局（Block）"></a>块级布局（Block）</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">display</span>: block;<br></code></pre></td></tr></table></figure>

<p><strong>核心特性</strong></p>
<ul>
<li>独占一行，默认宽度撑满父容器</li>
<li>可设置宽高&#x2F;margin&#x2F;padding所有方向</li>
<li>典型元素：<code>&lt;div&gt;</code>、<code>&lt;p&gt;</code>、<code>&lt;section&gt;</code></li>
</ul>
<h3 id="行内布局（Inline）"><a href="#行内布局（Inline）" class="headerlink" title="行内布局（Inline）"></a>行内布局（Inline）</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">display</span>: inline;<br></code></pre></td></tr></table></figure>

<p><strong>核心特性</strong></p>
<ul>
<li>不独占一行，宽度由内容决定</li>
<li>不可设置宽高，垂直方向的 margin&#x2F;padding 不生效</li>
<li>典型元素：<code>&lt;span&gt;</code>、<code>&lt;a&gt;</code>、<code>&lt;em&gt;</code></li>
</ul>
<h3 id="行内块布局（Inline-block）"><a href="#行内块布局（Inline-block）" class="headerlink" title="行内块布局（Inline-block）"></a>行内块布局（Inline-block）</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">display</span>: inline-block;<br></code></pre></td></tr></table></figure>

<p><strong>核心特性</strong></p>
<ul>
<li>不独占一行但可以设置宽高（兼具块级布局和行内布局特性）</li>
<li>默认基线对齐（引发经典垂直对齐问题）</li>
</ul>
<p><strong>思考</strong></p>
<ul>
<li>如何消除行内块元素间隙：父容器font-size: 0或HTML代码无空格</li>
<li>垂直对齐控制：vertical-align: middle&#x2F;top&#x2F;bottom</li>
</ul>
<h3 id="Flex布局"><a href="#Flex布局" class="headerlink" title="Flex布局"></a>Flex布局</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">display</span>: flex;<br></code></pre></td></tr></table></figure>

<p><strong>核心特性</strong></p>
<ul>
<li>主轴&#x2F;交叉轴双轴控制</li>
<li>子项弹性伸缩（flex-grow&#x2F;shrink&#x2F;basis）</li>
</ul>
<p><strong>思考</strong></p>
<ul>
<li>实现等高布局：<code>align-items: stretch</code></li>
<li>圣杯布局：<code>flex: 1</code> + <code>order</code> 属性</li>
<li>性能优化：避免过度嵌套</li>
</ul>
<p><strong>实战实例</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-wrap</span>: wrap;<br>  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>; <span class="hljs-comment">/* 替代margin方案 */</span><br>&#125;<br><span class="hljs-selector-class">.item</span> &#123;<br>  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-built_in">calc</span>(<span class="hljs-number">33.33%</span> - <span class="hljs-number">10px</span>); <span class="hljs-comment">/* 三栏自适应 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Grid网格布局"><a href="#Grid网格布局" class="headerlink" title="Grid网格布局"></a>Grid网格布局</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">display</span>: grid;<br></code></pre></td></tr></table></figure>

<p><strong>核心特性</strong></p>
<ul>
<li>二维布局系统（行列显式定义）</li>
<li>网格线&#x2F;网格区域命名控制</li>
</ul>
<h3 id="渲染性能排序"><a href="#渲染性能排序" class="headerlink" title="渲染性能排序"></a>渲染性能排序</h3><p>Block &gt; Flex ≈ Grid &gt; Inline-block（复合层创建成本）</p>
<h2 id="1-4-常用单位（px、em、rem、vw-vh、-）"><a href="#1-4-常用单位（px、em、rem、vw-vh、-）" class="headerlink" title="1.4 常用单位（px、em、rem、vw&#x2F;vh、%）"></a>1.4 常用单位（px、em、rem、vw&#x2F;vh、%）</h2><h3 id="绝对单位与相对单位的对比"><a href="#绝对单位与相对单位的对比" class="headerlink" title="绝对单位与相对单位的对比"></a>绝对单位与相对单位的对比</h3><table>
<thead>
<tr>
<th align="left">单位类型</th>
<th align="left">代表单位</th>
<th align="left">基准参照物</th>
<th align="left">适用场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">绝对单位</td>
<td align="left">px</td>
<td align="left">设备物理像素</td>
<td align="left">边框&#x2F;阴影等固定尺寸</td>
</tr>
<tr>
<td align="left">相对单位</td>
<td align="left">em&#x2F;rem</td>
<td align="left">字体大小&#x2F;根字体大小</td>
<td align="left">响应式文本&#x2F;组件间距</td>
</tr>
<tr>
<td align="left">视口单位</td>
<td align="left">vw&#x2F;vh</td>
<td align="left">视窗宽高</td>
<td align="left">全屏布局&#x2F;自适应元素</td>
</tr>
<tr>
<td align="left">百分比</td>
<td align="left">%</td>
<td align="left">父元素对应属性值</td>
<td align="left">流式布局&#x2F;继承比例</td>
</tr>
</tbody></table>
<h3 id="核心单位详解"><a href="#核心单位详解" class="headerlink" title="核心单位详解"></a>核心单位详解</h3><p><strong>px（像素）</strong></p>
<ul>
<li>本质：与设备物理像素挂钩（但受 DPR 影响）</li>
<li>陷阱：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">2px</span>; <span class="hljs-comment">/* 高清屏可能实际渲染为4物理像素 */</span><br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p><strong>em</strong></p>
<ul>
<li>计算规则：<code>1em = 当前元素 font-size</code></li>
<li>级联问题：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS">&lt;<span class="hljs-selector-tag">div</span> class=&quot;parent&quot; style=&quot;<span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span><span class="hljs-string">&quot;&gt;</span><br><span class="hljs-string">  &lt;div class=&quot;</span>child<span class="hljs-string">&quot; style=&quot;</span>font-size: <span class="hljs-number">1.2em</span><span class="hljs-string">&quot;&gt; &lt;!-- 24px --&gt;</span><br><span class="hljs-string">    &lt;div class=&quot;</span>grandchild<span class="hljs-string">&quot; style=&quot;</span>width: <span class="hljs-number">2em</span><span class="hljs-string">&quot;&gt; &lt;!-- 48px (!) --&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">  &lt;/div&gt;</span><br><span class="hljs-string">&lt;/div&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<p><strong>rem（Root em）</strong></p>
<ul>
<li>计算规则：<code>1rem = 根元素 font-size</code></li>
</ul>
<p><strong>vw&#x2F;vh（视口单位）</strong></p>
<ul>
<li>计算规则：<code>1vw = 视口宽度的 1%</code>，<code>1vh = 视口高度的 1%</code></li>
<li>陷阱：移动端vh包含浏览器工具栏区域（可用dvh单位解决）</li>
</ul>
<p><strong>%（百分比）</strong></p>
<ul>
<li><p>参照基准：</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">参照对象</th>
</tr>
</thead>
<tbody><tr>
<td align="left">width&#x2F;height</td>
<td align="left">父元素的内容区宽度&#x2F;高度</td>
</tr>
<tr>
<td align="left">padding&#x2F;margin</td>
<td align="left">父元素的内容区宽度</td>
</tr>
<tr>
<td align="left">top&#x2F;left</td>
<td align="left">包含块的高度&#x2F;宽度</td>
</tr>
</tbody></table>
</li>
<li><p>经典面试题</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10%</span>;<br>&#125;<br><span class="hljs-comment">/* 实际padding值为20px（基于父元素width计算） */</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="1-5-层叠与继承（z-index、-important、继承规则）"><a href="#1-5-层叠与继承（z-index、-important、继承规则）" class="headerlink" title="1.5 层叠与继承（z-index、!important、继承规则）"></a>1.5 层叠与继承（z-index、!important、继承规则）</h2><h3 id="层叠上下文的核心原理"><a href="#层叠上下文的核心原理" class="headerlink" title="层叠上下文的核心原理"></a>层叠上下文的核心原理</h3><p><strong>形成条件（触发 BFC 的升级版）</strong></p>
<ul>
<li>position: relative&#x2F;absolute&#x2F;fixed + z-index ≠ auto</li>
<li>opacity &lt; 1</li>
<li>transform&#x2F;filter 非 none</li>
<li>flex&#x2F;grid容器的子项且z-index ≠ auto</li>
</ul>
<p><strong>黄金规则</strong></p>
<ul>
<li>每个层叠上下文自成体系（内部 z-index 仅在该上下文中比较）</li>
<li>兄弟元素按 z-index 数值排序</li>
<li>不同上下文的比较取决于父级层叠上下文的层级</li>
</ul>
<p><strong>示例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;div style=&quot;position: relative; z-index: 1;&quot;&gt;<br>  &lt;div style=&quot;position: absolute; z-index: 100;&quot;&gt;A&lt;/div&gt;<br>&lt;/div&gt;<br>&lt;div style=&quot;position: relative; z-index: 2;&quot;&gt;<br>  &lt;div style=&quot;position: absolute; z-index: 1;&quot;&gt;B&lt;/div&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<p>最终显示顺序：B 覆盖 A（父级上下文 z-index: 2 &gt; 1）</p>
<h3 id="important-终极权重"><a href="#important-终极权重" class="headerlink" title="!important 终极权重"></a>!important 终极权重</h3><p><strong>权重等级表</strong></p>
<table>
<thead>
<tr>
<th align="left">来源</th>
<th align="left">示例</th>
<th align="left">权重值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">用户代理!important</td>
<td align="left">浏览器默认样式</td>
<td align="left">∞+3</td>
</tr>
<tr>
<td align="left">用户!important</td>
<td align="left">用户自定义样式表</td>
<td align="left">∞+2</td>
</tr>
<tr>
<td align="left">作者!important</td>
<td align="left">开发者写的!important</td>
<td align="left">∞+1</td>
</tr>
<tr>
<td align="left">动画关键帧</td>
<td align="left">@keyframes</td>
<td align="left">∞</td>
</tr>
<tr>
<td align="left">普通作者声明</td>
<td align="left">常规CSS规则</td>
<td align="left">按选择器权重</td>
</tr>
</tbody></table>
<p><strong>破解 !important</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 原始问题样式 */</span><br><span class="hljs-selector-class">.btn</span> &#123; <span class="hljs-attribute">color</span>: red <span class="hljs-meta">!important</span>; &#125;<br><br><span class="hljs-comment">/* 解决方案1：更高权重!important */</span><br><span class="hljs-selector-tag">html</span> <span class="hljs-selector-tag">body</span> <span class="hljs-selector-class">.btn</span> &#123; <span class="hljs-attribute">color</span>: blue <span class="hljs-meta">!important</span>; &#125;<br><br><span class="hljs-comment">/* 解决方案2：JavaScript修改内联样式 */</span><br>element<span class="hljs-selector-class">.style</span><span class="hljs-selector-class">.setProperty</span>(&#x27;<span class="hljs-attribute">color</span>&#x27;, &#x27;green&#x27;, &#x27;important&#x27;);<br></code></pre></td></tr></table></figure>

<h3 id="继承规则"><a href="#继承规则" class="headerlink" title="继承规则"></a>继承规则</h3><p><strong>可继承属性清单</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">- 文本相关：`font-family`, `color`, `line-height`<br>- 列表相关：`list-style-type`<br>- 表格相关：`border-collapse`<br>- 可见性：`visibility`<br>- 光标：`cursor`<br></code></pre></td></tr></table></figure>

<p><strong>显式继承技巧</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.ant-input</span> &#123;<br>  <span class="hljs-attribute">font</span>: inherit;  <span class="hljs-comment">/* 强制继承父元素字体设置 */</span><br>  <span class="hljs-attribute">color</span>: inherit;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>继承链中断场景</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;div style=&quot;font-size: 16px;&quot;&gt;<br>  &lt;span style=&quot;font-size: 1.5em;&quot;&gt;24px&lt;/span&gt;<br>  &lt;!-- 子元素设置非继承属性如width会中断 --&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<h1 id="第二章：CSS-布局技术"><a href="#第二章：CSS-布局技术" class="headerlink" title="第二章：CSS 布局技术"></a>第二章：CSS 布局技术</h1><h2 id="2-1-传统布局（浮动-float、定位-position）"><a href="#2-1-传统布局（浮动-float、定位-position）" class="headerlink" title="2.1 传统布局（浮动 float、定位 position）"></a>2.1 传统布局（浮动 float、定位 position）</h2><h3 id="浮动布局（float）"><a href="#浮动布局（float）" class="headerlink" title="浮动布局（float）"></a>浮动布局（float）</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.float-item</span> &#123;<br>  <span class="hljs-attribute">float</span>: left | right | none;<br>  <span class="hljs-attribute">clear</span>: both | left | right; <span class="hljs-comment">/* 清除浮动影响 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>核心机制</strong></p>
<ul>
<li>文档流破坏：浮动元素会脱离普通流，其他盒子会“无视它”（但文本内容会围绕）</li>
<li>包裹性：浮动元素会默认收缩宽度以适应内容（除非显式设置宽度）</li>
</ul>
<p><strong>经典应用场景</strong></p>
<p>（1）多栏布局（早期实现方式）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.left-col</span> &#123; <span class="hljs-attribute">float</span>: left; <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; &#125;<br><span class="hljs-selector-class">.right-col</span> &#123; <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">210px</span>; &#125;<br></code></pre></td></tr></table></figure>

<p>（2）图文混排</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-tag">img</span> &#123;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">15px</span>;<br>  <span class="hljs-attribute">shape-outside</span>: <span class="hljs-built_in">circle</span>(); <span class="hljs-comment">/* 高级文字环绕 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>陷阱：高度塌陷问题</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS">&lt;<span class="hljs-selector-tag">div</span> class=&quot;parent&quot;&gt;<br>  &lt;<span class="hljs-selector-tag">div</span> class=&quot;<span class="hljs-attribute">float</span>-child&quot;&gt;&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>&lt;!-- parent高度为<span class="hljs-number">0</span> --&gt;<br></code></pre></td></tr></table></figure>

<h3 id="定位布局（position）-精准控制的利器"><a href="#定位布局（position）-精准控制的利器" class="headerlink" title="定位布局（position） - 精准控制的利器"></a>定位布局（position） - 精准控制的利器</h3><p><strong>各大定位类型对比</strong></p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">脱离文档流</th>
<th align="left">定位基准</th>
<th align="left">典型应用场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">static</td>
<td align="left">否</td>
<td align="left">正常流</td>
<td align="left">默认值</td>
</tr>
<tr>
<td align="left">relative</td>
<td align="left">否</td>
<td align="left">自身原始位置</td>
<td align="left">微调元素&#x2F;建立定位上下文</td>
</tr>
<tr>
<td align="left">absolute</td>
<td align="left">是</td>
<td align="left">最近非static祖先</td>
<td align="left">弹窗&#x2F;下拉菜单&#x2F;工具提示</td>
</tr>
<tr>
<td align="left">fixed</td>
<td align="left">是</td>
<td align="left">视口</td>
<td align="left">固定导航栏&#x2F;悬浮按钮</td>
</tr>
<tr>
<td align="left">sticky</td>
<td align="left">是（滚动时）</td>
<td align="left">最近滚动容器</td>
<td align="left">吸顶效果&#x2F;表头固定</td>
</tr>
</tbody></table>
<p><strong>粘性定位（sticky）的阈值控制</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.sticky-header</span> &#123;<br>  <span class="hljs-attribute">position</span>: sticky;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">20px</span>; <span class="hljs-comment">/* 距离视口顶部20px时触发固定 */</span><br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">100</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>失效条件：</p>
<ul>
<li>父元素设置 overflow: hidden</li>
<li>未指定 top&#x2F;bottom&#x2F;left&#x2F;right 任一值</li>
</ul>
<h2 id="2-2-Flex-弹性布局（flex-direction、justify-content、align-items）"><a href="#2-2-Flex-弹性布局（flex-direction、justify-content、align-items）" class="headerlink" title="2.2 Flex 弹性布局（flex-direction、justify-content、align-items）"></a>2.2 Flex 弹性布局（flex-direction、justify-content、align-items）</h2><p>flex 弹性布局最核心的三要素：</p>
<ul>
<li>flex-direction</li>
<li>justify-content</li>
<li>align-items</li>
</ul>
<h3 id="flex-direction-主轴方向控制"><a href="#flex-direction-主轴方向控制" class="headerlink" title="flex-direction - 主轴方向控制"></a>flex-direction - 主轴方向控制</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 响应式布局切换 */</span><br><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">flex-direction</span>: row;   <span class="hljs-comment">/* 桌面端 */</span><br>&#125;<br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) &#123;<br>  <span class="hljs-selector-class">.container</span> &#123;<br>    <span class="hljs-attribute">flex-direction</span>: column; <span class="hljs-comment">/* 移动端 */</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>作用</strong>：定义 Flex 容器的主轴方向，直接影响子项的排列方式</p>
<p><strong>属性详解</strong></p>
<table>
<thead>
<tr>
<th align="left">属性值</th>
<th align="left">效果图示</th>
<th align="left">典型应用场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">row（默认）</td>
<td align="left">→ → → →</td>
<td align="left">水平导航栏&#x2F;商品列表</td>
</tr>
<tr>
<td align="left">row-reverse</td>
<td align="left">← ← ← ←</td>
<td align="left">从右到左的特殊布局需求</td>
</tr>
<tr>
<td align="left">column</td>
<td align="left">↓</td>
<td align="left">移动端垂直菜单&#x2F;瀑布流</td>
</tr>
<tr>
<td align="left">column-reverse</td>
<td align="left">↑</td>
<td align="left">聊天消息时间倒序展示</td>
</tr>
</tbody></table>
<h3 id="justify-content-主轴对齐方式"><a href="#justify-content-主轴对齐方式" class="headerlink" title="justify-content - 主轴对齐方式"></a>justify-content - 主轴对齐方式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 表格工具栏布局 */</span><br><span class="hljs-selector-class">.toolbar</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">justify-content</span>: space-between; <span class="hljs-comment">/* 左右分组 */</span><br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">16px</span>;<br>&#125;<br><br><span class="hljs-comment">/* 弹性网格布局 */</span><br><span class="hljs-selector-class">.grid</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-wrap</span>: wrap;<br>  <span class="hljs-attribute">justify-content</span>: space-around; <span class="hljs-comment">/* 卡片四周留白均匀 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>作用</strong>：控制子项在主轴上的对齐与空间分配</p>
<p><strong>属性详解</strong></p>
<table>
<thead>
<tr>
<th align="left">属性值</th>
<th align="left">效果图示</th>
<th align="left">空间分配规则</th>
</tr>
</thead>
<tbody><tr>
<td align="left">flex-start</td>
<td align="left">[■ ■ ■]________</td>
<td align="left">向主轴起点聚集（默认）</td>
</tr>
<tr>
<td align="left">flex-end</td>
<td align="left">________[■ ■ ■]</td>
<td align="left">向主轴终点聚集</td>
</tr>
<tr>
<td align="left">center</td>
<td align="left"><code>____[■ ■ ■]____</code></td>
<td align="left">居中排列</td>
</tr>
<tr>
<td align="left">space-between</td>
<td align="left">[■][■][■]</td>
<td align="left">首尾贴边，中间均分</td>
</tr>
<tr>
<td align="left">space-around</td>
<td align="left">[■][■][■]</td>
<td align="left">每个项目两侧间距相等</td>
</tr>
<tr>
<td align="left">space-evenly</td>
<td align="left">[■][■][■]</td>
<td align="left">项目与容器间距完全均分</td>
</tr>
</tbody></table>
<h3 id="align-items-交叉轴对齐方式"><a href="#align-items-交叉轴对齐方式" class="headerlink" title="align-items - 交叉轴对齐方式"></a>align-items - 交叉轴对齐方式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 表单输入行对齐 */</span><br><span class="hljs-selector-class">.form-row</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">align-items</span>: baseline; <span class="hljs-comment">/* 让label和input文字基线对齐 */</span><br>&#125;<br><br><span class="hljs-comment">/* 垂直居中终极方案 */</span><br><span class="hljs-selector-class">.modal</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">align-items</span>: center;<br>  <span class="hljs-attribute">justify-content</span>: center;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>作用</strong>：控制子项在交叉轴上的对齐方式（单行布局）</p>
<p><strong>属性详解</strong></p>
<table>
<thead>
<tr>
<th align="left">属性值</th>
<th align="left">对齐规则</th>
</tr>
</thead>
<tbody><tr>
<td align="left">stretch（默认）</td>
<td align="left">拉伸填满容器高度</td>
</tr>
<tr>
<td align="left">flex-start</td>
<td align="left">向交叉轴起点对齐</td>
</tr>
<tr>
<td align="left">flex-end</td>
<td align="left">向交叉轴终点对齐</td>
</tr>
<tr>
<td align="left">center</td>
<td align="left">居中对齐</td>
</tr>
<tr>
<td align="left">baseline</td>
<td align="left">按文本基线对齐</td>
</tr>
</tbody></table>
<h3 id="三属性联调实践"><a href="#三属性联调实践" class="headerlink" title="三属性联调实践"></a>三属性联调实践</h3><p>（1）圣杯布局实现</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.holy-grail</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-direction</span>: column;<br>  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;<br>&#125;<br><span class="hljs-selector-class">.header</span>, <span class="hljs-selector-class">.footer</span> &#123;<br>  <span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> auto;<br>&#125;<br><span class="hljs-selector-class">.content</span> &#123;<br>  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-direction</span>: row;<br>&#125;<br><span class="hljs-selector-class">.main</span> &#123;<br>  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-selector-class">.sidebar</span> &#123;<br>  <span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">order</span>: -<span class="hljs-number">1</span>; <span class="hljs-comment">/* 左侧边栏 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）等高卡片组</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.card-group</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">align-items</span>: stretch; <span class="hljs-comment">/* 关键设置 */</span><br>&#125;<br><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;<br>  <span class="hljs-comment">/* 无需设置高度 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="高频面试题"><a href="#高频面试题" class="headerlink" title="高频面试题"></a>高频面试题</h3><p>（1）justify-content: space-between 最后一行左对齐怎么实现？</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.grid</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-wrap</span>: wrap;<br>  <span class="hljs-attribute">justify-content</span>: space-between;<br>&#125;<br><span class="hljs-comment">/* 添加占位元素 */</span><br><span class="hljs-selector-class">.grid</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">flex</span>: auto; <span class="hljs-comment">/* 或固定宽度 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）如何让 flex 项目在交叉方向上溢出容器？</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">align-items</span>: flex-start; <span class="hljs-comment">/* 关键设置 */</span><br>  <span class="hljs-attribute">overflow</span>: auto;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（3）flex 实现两栏布局，右侧内容溢出时出现滚动条？</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.layout</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;<br>&#125;<br><span class="hljs-selector-class">.sidebar</span> &#123; <span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">200px</span>; &#125;<br><span class="hljs-selector-class">.main</span> &#123;<br>  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;<br>  <span class="hljs-attribute">overflow</span>: auto;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-3-Grid-网格布局（grid-template、grid-area、fr-单位）"><a href="#2-3-Grid-网格布局（grid-template、grid-area、fr-单位）" class="headerlink" title="2.3 Grid 网格布局（grid-template、grid-area、fr 单位）"></a>2.3 Grid 网格布局（grid-template、grid-area、fr 单位）</h2><h3 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h3><p>grid 布局属于二维布局模型：同时控制行和列的排布，与 flexbox （一维）形成互补</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid; <span class="hljs-comment">/* 开启网格布局 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="grid-template-系列属性详解"><a href="#grid-template-系列属性详解" class="headerlink" title="grid-template 系列属性详解"></a>grid-template 系列属性详解</h3><p><strong>grid-template-columns&#x2F;rows</strong></p>
<ul>
<li>作用：定义显示网格的列&#x2F;行尺寸<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid; <span class="hljs-comment">/* 开启网格布局 */</span><br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">200px</span> <span class="hljs-number">1</span>fr; <span class="hljs-comment">/* 两列：固定+弹性 */</span><br>  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-number">80px</span> auto <span class="hljs-number">60px</span>; <span class="hljs-comment">/* 三行 */</span><br>  <span class="hljs-attribute">gap</span>: <span class="hljs-number">16px</span>; <span class="hljs-comment">/* 网格间隙 */</span><br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p><strong>grid-template-areas</strong></p>
<ul>
<li>作用：可视化布局声明<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.dashboard</span> &#123;<br>  <span class="hljs-attribute">grid-template-areas</span>:<br>    <span class="hljs-string">&quot;header header header&quot;</span><br>    <span class="hljs-string">&quot;sidebar content .&quot;</span><br>    <span class="hljs-string">&quot;footer footer footer&quot;</span>;<br>&#125;<br><span class="hljs-selector-class">.header</span> &#123; <span class="hljs-attribute">grid-area</span>: header; &#125;<br><span class="hljs-comment">/* 其他区域同理 */</span><br></code></pre></td></tr></table></figure></li>
<li>规则：相同命名区域必须形成矩形；点号（.）表示空白区域</li>
</ul>
<p><strong>复合写法 <code>grid-template</code></strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 行 / 列 / 区域 */</span><br><span class="hljs-attribute">grid-template</span>: <br>  <span class="hljs-string">&quot;head head&quot;</span> <span class="hljs-number">80px</span><br>  <span class="hljs-string">&quot;nav main&quot;</span> <span class="hljs-number">1</span>fr<br>  / <span class="hljs-number">200px</span> <span class="hljs-number">1</span>fr;<br></code></pre></td></tr></table></figure>

<h3 id="grid-area-详解"><a href="#grid-area-详解" class="headerlink" title="grid-area 详解"></a>grid-area 详解</h3><p><strong>基础定义</strong></p>
<p>grid-area 是 CSS Grid 布局中用于精确控制网格项位置的核心属性，是以下属性的复合写法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">grid-row-start</span> / <span class="hljs-attribute">grid-column-start</span> / <span class="hljs-attribute">grid-row-end</span> / <span class="hljs-attribute">grid-column-end</span><br></code></pre></td></tr></table></figure>

<p><strong>四大核心功能</strong></p>
<p>（1）作为 <code>grid-template-areas</code> 的命名引用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">grid-template-areas</span>:<br>    <span class="hljs-string">&quot;header header&quot;</span><br>    <span class="hljs-string">&quot;sidebar main&quot;</span>;<br>&#125;<br><span class="hljs-selector-class">.header</span> &#123; <span class="hljs-attribute">grid-area</span>: header; &#125; <span class="hljs-comment">/* 自动填充对应区域 */</span><br><span class="hljs-selector-class">.sidebar</span> &#123; <span class="hljs-attribute">grid-area</span>: sidebar; &#125;<br></code></pre></td></tr></table></figure>

<p>（2）作为定位简写（行开始&#x2F;列开始&#x2F;行结束&#x2F;列结束）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/*3 行 3 列共 9 格*/</span><br><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>fr); <span class="hljs-comment">/* 3 列 */</span><br>  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>, <span class="hljs-number">100px</span>); <span class="hljs-comment">/* 3 行 */</span><br>&#125;<br><span class="hljs-comment">/*第 2 行第 1 列开始，第 4 行第 3 列结束，占用第2-3行，第1-2列*/</span><br><span class="hljs-selector-class">.item</span> &#123;<br>  <span class="hljs-attribute">grid-area</span>: <span class="hljs-number">2</span> / <span class="hljs-number">1</span> / <span class="hljs-number">4</span> / <span class="hljs-number">3</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（3）配合命名线使用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">grid-template-columns</span>: [main-start] <span class="hljs-number">1</span>fr [content-start] <span class="hljs-number">1</span>fr [main-end];<br>&#125;<br><span class="hljs-selector-class">.item</span> &#123;<br>  <span class="hljs-attribute">grid-area</span>: <span class="hljs-number">1</span> / content-start / <span class="hljs-number">3</span> / main-end;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（4）自适应布局案例</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) &#123;<br>  <span class="hljs-selector-class">.app</span> &#123;<br>    <span class="hljs-attribute">grid-template-areas</span>:<br>      <span class="hljs-string">&quot;header&quot;</span><br>      <span class="hljs-string">&quot;content&quot;</span><br>      <span class="hljs-string">&quot;sidebar&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="fr-单位-网格专属空间分配"><a href="#fr-单位-网格专属空间分配" class="headerlink" title="fr 单位 - 网格专属空间分配"></a>fr 单位 - 网格专属空间分配</h3><p><strong>核心特性</strong></p>
<ul>
<li>按比例分配容器剩余可用空间，与 Flex 的 flex-grow 类似但计算时机不同</li>
<li>与 <code>minmax()</code> 组合实现弹性限制<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">300px</span> <span class="hljs-built_in">minmax</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>fr) <span class="hljs-number">1</span>fr;<br></code></pre></td></tr></table></figure></li>
</ul>
<p><strong>计算规则</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">1</span>fr <span class="hljs-number">2</span>fr <span class="hljs-number">100px</span>;<br></code></pre></td></tr></table></figure>

<ul>
<li>总宽度 &#x3D; 容器宽度 - 固定列宽（100px）- 列间距（gap）</li>
<li>剩余空间按 1:2 比例分配</li>
</ul>
<p><strong>与百分比的区别</strong></p>
<table>
<thead>
<tr>
<th align="left">特性</th>
<th align="left">fr</th>
<th align="left">%</th>
</tr>
</thead>
<tbody><tr>
<td align="left">计算基准</td>
<td align="left">剩余空间</td>
<td align="left">父容器总空间</td>
</tr>
<tr>
<td align="left">是否受网格间隙（gap）影响</td>
<td align="left">分配前扣除gap</td>
<td align="left">包含gap</td>
</tr>
<tr>
<td align="left">组合弹性</td>
<td align="left">可与固定宽度混合</td>
<td align="left">需配合calc</td>
</tr>
</tbody></table>
<h3 id="高频面试问题"><a href="#高频面试问题" class="headerlink" title="高频面试问题"></a>高频面试问题</h3><p>（1）grid-area 如何实现跨行跨列</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 跨3行2列 */</span><br><span class="hljs-selector-class">.item</span> &#123;<br>  <span class="hljs-attribute">grid-area</span>: <span class="hljs-number">2</span> / <span class="hljs-number">1</span> / span <span class="hljs-number">3</span> / span <span class="hljs-number">2</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）同名 grid-area 的项目会发生什么</p>
<ul>
<li>根据 DOM 顺序层叠（后者覆盖前者），可通过 z-index 控制层级</li>
</ul>
<p>（3）如何使用 grid-area 实现圣杯布局</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">grid-template-areas</span>:<br>    <span class="hljs-string">&quot;header header&quot;</span><br>    <span class="hljs-string">&quot;sidebar main&quot;</span>;<br>&#125;<br><span class="hljs-selector-class">.header</span> &#123; <span class="hljs-attribute">grid-area</span>: header; &#125;<br><span class="hljs-selector-class">.sidebar</span> &#123; <span class="hljs-attribute">grid-area</span>: sidebar; &#125;<br><span class="hljs-selector-class">.main</span> &#123; <span class="hljs-attribute">grid-area</span>: main; &#125;<br></code></pre></td></tr></table></figure>

<h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><ul>
<li>所有现代浏览器都支持</li>
<li>可以使用 <code>@supports</code> 检测<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-keyword">@supports</span> (<span class="hljs-attribute">display</span>: <span class="hljs-attribute">grid</span>) &#123;<br>  <span class="hljs-selector-class">.item</span> &#123; <span class="hljs-attribute">grid-area</span>: main; &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-4-多列布局（column-count、column-gap）"><a href="#2-4-多列布局（column-count、column-gap）" class="headerlink" title="2.4 多列布局（column-count、column-gap）"></a>2.4 多列布局（column-count、column-gap）</h2><p>多列布局专为文本内容的分栏展示设计，适合新闻阅读、文档排版等场景</p>
<h3 id="核心属性"><a href="#核心属性" class="headerlink" title="核心属性"></a>核心属性</h3><p><strong>column-count - 分栏数量控制</strong></p>
<ul>
<li>作用：指定内容分为多少列</li>
<li>取值：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">column-count</span>: <span class="hljs-number">3</span>; <span class="hljs-comment">/* 固定3栏 */</span><br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>auto（默认）：由其他属性（如column-width）决定列数</li>
<li>整数：强制分栏数量（内容不足时会留空）</li>
</ul>
</li>
</ul>
<p><strong>column-gap - 栏间间距</strong></p>
<ul>
<li>作用：控制列与列之间的间隙</li>
<li>语法：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">column-gap</span>: <span class="hljs-number">2em</span>;    <span class="hljs-comment">/* 相对单位 */</span><br>  <span class="hljs-attribute">column-gap</span>: <span class="hljs-number">24px</span>;   <span class="hljs-comment">/* 固定像素 */</span><br>  <span class="hljs-attribute">column-gap</span>: normal; <span class="hljs-comment">/* 浏览器默认值（通常1em） */</span><br>&#125;<br></code></pre></td></tr></table></figure></li>
<li>与Grid&#x2F;Flex的gap区别：多列布局的gap仅支持单值（不支持行列分别设置）</li>
</ul>
<h3 id="完整属性体系"><a href="#完整属性体系" class="headerlink" title="完整属性体系"></a>完整属性体系</h3><table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">作用</th>
<th align="left">示例值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">column-width</td>
<td align="left">每列理想宽度（实际可能调整）</td>
<td align="left">200px &#x2F; auto</td>
</tr>
<tr>
<td align="left">column-count</td>
<td align="left">最大分栏数</td>
<td align="left">3 &#x2F; auto</td>
</tr>
<tr>
<td align="left">column-gap</td>
<td align="left">栏间间距</td>
<td align="left">1em &#x2F; 20px</td>
</tr>
<tr>
<td align="left">column-rule</td>
<td align="left">栏间分隔线（类似border）</td>
<td align="left">1px solid #ddd</td>
</tr>
<tr>
<td align="left">column-fill</td>
<td align="left">内容填充方式</td>
<td align="left">auto &#x2F; balance</td>
</tr>
<tr>
<td align="left">column-span</td>
<td align="left">元素跨列（仅all&#x2F;none）</td>
<td align="left">all（标题跨所有列）</td>
</tr>
</tbody></table>
<h2 id="2-5-响应式布局（-media-查询、移动优先策略）"><a href="#2-5-响应式布局（-media-查询、移动优先策略）" class="headerlink" title="2.5 响应式布局（@media 查询、移动优先策略）"></a>2.5 响应式布局（@media 查询、移动优先策略）</h2><h3 id="响应式核心机制：-media-查询"><a href="#响应式核心机制：-media-查询" class="headerlink" title="响应式核心机制：@media 查询"></a>响应式核心机制：@media 查询</h3><p>作用：根据设备特性（宽度、分辨率、方向等）应用不同的CSS规则</p>
<p><strong>基础语法结构</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-keyword">@media</span> [媒体类型] [<span class="hljs-keyword">and</span>] (媒体特征) &#123;<br>  <span class="hljs-comment">/* 条件满足时应用的CSS */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>关键媒体特征</strong></p>
<table>
<thead>
<tr>
<th align="left">特征</th>
<th align="left">应用场景</th>
<th align="left">示例值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">min-width &#x2F; max-width</td>
<td align="left">视口宽度断点</td>
<td align="left">(min-width: 768px)</td>
</tr>
<tr>
<td align="left">orientation</td>
<td align="left">设备方向</td>
<td align="left">(orientation: portrait)</td>
</tr>
<tr>
<td align="left">resolution</td>
<td align="left">屏幕分辨率</td>
<td align="left">(min-resolution: 2dppx)</td>
</tr>
<tr>
<td align="left">hover</td>
<td align="left">输入设备是否支持悬停</td>
<td align="left">(hover: hover)</td>
</tr>
<tr>
<td align="left">prefers-color-scheme</td>
<td align="left">系统深色模式</td>
<td align="left">(prefers-color-scheme: dark)</td>
</tr>
</tbody></table>
<p><strong>复合条件查询</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 平板横屏且最小宽度1024px */</span><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">1024px</span>) <span class="hljs-keyword">and</span> (<span class="hljs-attribute">orientation</span>: landscape) &#123;<br>  <span class="hljs-selector-class">.sidebar</span> &#123; <span class="hljs-attribute">display</span>: block; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="移动优先（mobile-first）策略"><a href="#移动优先（mobile-first）策略" class="headerlink" title="移动优先（mobile-first）策略"></a>移动优先（mobile-first）策略</h3><p><strong>核心理念</strong></p>
<p>先为移动设备编写基础样式，再通过 <code>min-width</code> 逐步增强大屏体验</p>
<p><strong>代码实现范式</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 基础样式（移动端） */</span><br><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>&#125;<br><br><span class="hljs-comment">/* 平板适配（≥768px） */</span><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">768px</span>) &#123;<br>  <span class="hljs-selector-class">.container</span> &#123;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">/* 桌面端适配（≥1200px） */</span><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">1200px</span>) &#123;<br>  <span class="hljs-selector-class">.container</span> &#123;<br>    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1140px</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="第三章：CSS-视觉与动画"><a href="#第三章：CSS-视觉与动画" class="headerlink" title="第三章：CSS 视觉与动画"></a>第三章：CSS 视觉与动画</h1><h2 id="3-1-背景与边框（background、border-radius、box-shadow）"><a href="#3-1-背景与边框（background、border-radius、box-shadow）" class="headerlink" title="3.1 背景与边框（background、border-radius、box-shadow）"></a>3.1 背景与边框（background、border-radius、box-shadow）</h2><h3 id="背景-background-复合属性"><a href="#背景-background-复合属性" class="headerlink" title="背景 - background 复合属性"></a>背景 - background 复合属性</h3><p>现代 CSS 背景已发展为包含 8 个子属性的强大系统</p>
<p><strong>分层背景（支持多背景图）</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">.<span class="hljs-property">hero</span> &#123;<br>  <span class="hljs-attr">background</span>: <br>    linear-<span class="hljs-title function_">gradient</span>(<span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.3</span>), transparent),<br>    <span class="hljs-title function_">url</span>(<span class="hljs-string">&#x27;hero-bg.jpg&#x27;</span>) center/cover no-repeat,<br>    #f5f5f5; <span class="hljs-comment">/* 兜底颜色 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>层叠顺序：先声明的背景在上层</li>
</ul>
<p><strong>关键子属性详解</strong></p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">作用</th>
<th align="left">示例值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">background-image</td>
<td align="left">设置背景图像&#x2F;渐变</td>
<td align="left">url(‘img.png’), linear-gradient(to right, red, blue)</td>
</tr>
<tr>
<td align="left">background-size</td>
<td align="left">控制尺寸（需配合position）</td>
<td align="left">cover&#x2F;contain&#x2F;100px 50px</td>
</tr>
<tr>
<td align="left">background-position</td>
<td align="left">定位起始点</td>
<td align="left">center&#x2F;right</td>
</tr>
<tr>
<td align="left">background-repeat</td>
<td align="left">重复行为</td>
<td align="left">no-repeat&#x2F;space&#x2F;round</td>
</tr>
<tr>
<td align="left">background-origin</td>
<td align="left">定位基准（与border&#x2F;padding的关系）</td>
<td align="left">border-box&#x2F;content-box</td>
</tr>
<tr>
<td align="left">background-clip</td>
<td align="left">绘制区域</td>
<td align="left">text（文字镂空效果）</td>
</tr>
<tr>
<td align="left">background-attachment</td>
<td align="left">滚动行为</td>
<td align="left">fixed（视口固定背景）</td>
</tr>
<tr>
<td align="left">background-blend-mode</td>
<td align="left">混合模式</td>
<td align="left">multiply&#x2F;screen</td>
</tr>
</tbody></table>
<p><strong>性能优化技巧</strong></p>
<p>（1）雪碧图（sprite）自动化</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.icon</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;sprite.png&#x27;</span>) no-repeat;<br>  <span class="hljs-attribute">background-position</span>: -<span class="hljs-number">120px</span> -<span class="hljs-number">80px</span>; <span class="hljs-comment">/* 通过工具自动计算 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）WebP 格式优先</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.banner</span> &#123;<br>  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;image.webp&#x27;</span>);<br>  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">image-set</span>(<span class="hljs-string">&#x27;image.webp&#x27;</span> <span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;image/webp&#x27;</span>), <span class="hljs-string">&#x27;image.jpg&#x27;</span> <span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;image/jpeg&#x27;</span>));<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="border-radius-高级技巧"><a href="#border-radius-高级技巧" class="headerlink" title="border-radius 高级技巧"></a>border-radius 高级技巧</h3><p><strong>椭圆与复杂形状</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.btn</span> &#123;<br>  <span class="hljs-comment">/* 水平半径 / 垂直半径 */</span><br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span> <span class="hljs-number">20%</span> <span class="hljs-number">30%</span> <span class="hljs-number">40%</span> / <span class="hljs-number">60%</span> <span class="hljs-number">30%</span> <span class="hljs-number">70%</span> <span class="hljs-number">40%</span>; <br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>8值语法：分别控制四个角的x&#x2F;y轴半径</li>
</ul>
<p><strong>圆角头像</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.avatar</span> &#123;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;<br>  <span class="hljs-attribute">aspect-ratio</span>: <span class="hljs-number">1</span>; <span class="hljs-comment">/* 确保宽高相等 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>胶囊按钮</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.pill-button</span> &#123;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">9999px</span>; <span class="hljs-comment">/* 超大值实现 */</span><br>  <span class="hljs-comment">/* 或 */</span><br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">1em</span> + <span class="hljs-number">4px</span>); <span class="hljs-comment">/* 动态适应字体 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>隐藏陷阱</strong></p>
<ul>
<li>子元素溢出：父元素设置overflow: hidden</li>
<li>背景剪裁：配合background-clip: border-box</li>
</ul>
<h3 id="box-shadow-立体感打造"><a href="#box-shadow-立体感打造" class="headerlink" title="box-shadow 立体感打造"></a>box-shadow 立体感打造</h3><p>可叠加多层的阴影系统</p>
<p><strong>完整语法</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">box-shadow</span>: [inset] x-offset y-offset blur spread color;<br></code></pre></td></tr></table></figure>

<p>参数详解：</p>
<ul>
<li>inset：内阴影</li>
<li>spread：阴影扩展（正数放大&#x2F;负数收缩）</li>
<li>支持 RGBA 透明度控制</li>
</ul>
<p><strong>高级应用</strong></p>
<p>（1）多层阴影</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attribute">box-shadow</span>: <br>    <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">4px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>),<br>    <span class="hljs-number">0</span> <span class="hljs-number">8px</span> <span class="hljs-number">16px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>); <span class="hljs-comment">/* 立体层次 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）霓虹效果</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.neon</span> &#123;<br>  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">#0ff</span>, <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">20px</span> <span class="hljs-number">#0ff</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（3）边框替代方案（不占空间）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.border-alternative</span> &#123;<br>  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">#f00</span>; <span class="hljs-comment">/* 2px纯色外框 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="组合实战案例"><a href="#组合实战案例" class="headerlink" title="组合实战案例"></a>组合实战案例</h3><p>（1）玻璃拟态</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.glass</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.2</span>);<br>  <span class="hljs-attribute">backdrop-filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">10px</span>);<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">12px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">0.1</span>);<br>  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">8px</span> <span class="hljs-number">32px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）文档卡片悬浮</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.doc-card</span> &#123;<br>  <span class="hljs-attribute">transition</span>: box-shadow <span class="hljs-number">0.2s</span>;<br>&#125;<br><span class="hljs-selector-class">.doc-card</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">12px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.15</span>);<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">2px</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="高频面试问题-1"><a href="#高频面试问题-1" class="headerlink" title="高频面试问题"></a>高频面试问题</h3><p><strong>Q：如何实现 1px 细线边框</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.thin-border</span> &#123;<br>  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0.5px</span> <span class="hljs-number">#000</span>; <span class="hljs-comment">/* 高清屏解决方案 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>Q：background-clip: text 的兼容性如何？</strong></p>
<ul>
<li>需配合-webkit-text-fill-color: transparent</li>
<li>备用方案：SVG文本背景</li>
</ul>
<h2 id="3-2-渐变与滤镜（linear-gradient、backdrop-filter）"><a href="#3-2-渐变与滤镜（linear-gradient、backdrop-filter）" class="headerlink" title="3.2 渐变与滤镜（linear-gradient、backdrop-filter）"></a>3.2 渐变与滤镜（linear-gradient、backdrop-filter）</h2><h3 id="CSS渐变-从基础到三维质感"><a href="#CSS渐变-从基础到三维质感" class="headerlink" title="CSS渐变 - 从基础到三维质感"></a>CSS渐变 - 从基础到三维质感</h3><p>CSS 渐变可替代图片实现高性能视觉效果</p>
<p><strong>linear-gradient 线性渐变</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<br>  [方向或角度], <br>  color-stop1, <br>  color-stop2, <br>  ...<br>);<br></code></pre></td></tr></table></figure>

<ul>
<li><p>方向控制</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 关键词 */</span><br><span class="hljs-selector-tag">to</span> <span class="hljs-attribute">right</span>, <span class="hljs-selector-tag">to</span> <span class="hljs-attribute">bottom</span> <span class="hljs-attribute">right</span><br><span class="hljs-comment">/* 角度 */</span><br><span class="hljs-number">45deg</span>, <span class="hljs-number">0.25turn</span><br></code></pre></td></tr></table></figure></li>
<li><p>色标高级控制</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<br>  to right,<br>  <span class="hljs-number">#ff0000</span> <span class="hljs-number">0%</span>,       <span class="hljs-comment">/* 纯红色起点 */</span><br>  <span class="hljs-number">#ff0000</span> <span class="hljs-number">20%</span>,      <span class="hljs-comment">/* 保持纯红到20% */</span><br>  <span class="hljs-number">#0000ff</span> <span class="hljs-number">80%</span>,      <span class="hljs-comment">/* 过渡到蓝色 */</span><br>  <span class="hljs-number">#0000ff</span> <span class="hljs-number">100%</span>      <span class="hljs-comment">/* 纯蓝色终点 */</span><br>)<br></code></pre></td></tr></table></figure></li>
<li><p>案例：微信小程序按钮</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.btn-primary</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">90deg</span>, <span class="hljs-number">#07C160</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#09A855</span> <span class="hljs-number">100%</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p><strong>radial-gradient 径向渐变</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-attribute">background</span>: <span class="hljs-built_in">radial-gradient</span>(<br>  [形状 at 位置],<br>  color-stop1,<br>  color-stop2<br>);<br></code></pre></td></tr></table></figure>

<ul>
<li><p>形状控制</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-tag">circle</span> at center, <br><span class="hljs-selector-tag">ellipse</span> at <span class="hljs-number">20%</span> <span class="hljs-number">30%</span><br></code></pre></td></tr></table></figure></li>
<li><p>案例：logo 效果</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.logo</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">radial-gradient</span>(<br>    circle at <span class="hljs-number">30%</span> <span class="hljs-number">40%</span>,<br>    <span class="hljs-number">#ff0037</span> <span class="hljs-number">0%</span>,<br>    transparent <span class="hljs-number">60%</span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p><strong>conic-gradient 锥形渐变</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 饼图/色轮实现 */</span><br><span class="hljs-attribute">background</span>: <span class="hljs-built_in">conic-gradient</span>(<br>  red <span class="hljs-number">0deg</span> <span class="hljs-number">90deg</span>, <br>  green <span class="hljs-number">90deg</span> <span class="hljs-number">180deg</span>, <br>  blue <span class="hljs-number">180deg</span> <span class="hljs-number">270deg</span>, <br>  yellow <span class="hljs-number">270deg</span> <span class="hljs-number">360deg</span><br>);<br></code></pre></td></tr></table></figure>

<h3 id="CSS滤镜-视觉魔法"><a href="#CSS滤镜-视觉魔法" class="headerlink" title="CSS滤镜 - 视觉魔法"></a>CSS滤镜 - 视觉魔法</h3><p>滤镜可对元素本身或背景进行实时图像处理。</p>
<p><strong>filter 常用函数</strong></p>
<table>
<thead>
<tr>
<th align="left">滤镜函数</th>
<th align="left">效果</th>
<th align="left">示例值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">blur()</td>
<td align="left">高斯模糊</td>
<td align="left">blur(5px)</td>
</tr>
<tr>
<td align="left">brightness()</td>
<td align="left">明暗度调整</td>
<td align="left">brightness(1.2)</td>
</tr>
<tr>
<td align="left">contrast()</td>
<td align="left">对比度调整</td>
<td align="left">contrast(150%)</td>
</tr>
<tr>
<td align="left">drop-shadow()</td>
<td align="left">投影（优于box-shadow）</td>
<td align="left">drop-shadow(2px 2px 4px #000)</td>
</tr>
<tr>
<td align="left">hue-rotate()</td>
<td align="left">色相旋转</td>
<td align="left">hue-rotate(90deg)</td>
</tr>
<tr>
<td align="left">grayscale()</td>
<td align="left">灰度化</td>
<td align="left">grayscale(100%)</td>
</tr>
</tbody></table>
<p>抖音风格特效：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.video-filter</span> &#123;<br>  <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">contrast</span>(<span class="hljs-number">1.2</span>) <span class="hljs-built_in">brightness</span>(<span class="hljs-number">1.1</span>) <span class="hljs-built_in">hue-rotate</span>(<span class="hljs-number">15deg</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>backdrop-filter 背景滤镜</strong></p>
<p>仅处理元素背后的内容（需配合半透明背景）：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.modal</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">0.3</span>);<br>  <span class="hljs-attribute">backdrop-filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">10px</span>) <span class="hljs-built_in">saturate</span>(<span class="hljs-number">180%</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>适用场景：<ul>
<li>毛玻璃效果</li>
<li>弹窗背景虚化</li>
</ul>
</li>
<li>兼容性方案：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-keyword">@supports</span> <span class="hljs-keyword">not</span> (<span class="hljs-attribute">backdrop-filter</span>: blur(<span class="hljs-number">10px</span>)) &#123;<br>  <span class="hljs-selector-class">.modal</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">0.9</span>); <span class="hljs-comment">/* 降级处理 */</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="高级组合技巧"><a href="#高级组合技巧" class="headerlink" title="高级组合技巧"></a>高级组合技巧</h3><p><strong>渐变 + 滤镜实现 3D 按钮</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.btn-3d</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<br>    <span class="hljs-number">145deg</span>,<br>    <span class="hljs-number">#ffffff</span> <span class="hljs-number">0%</span>,<br>    <span class="hljs-number">#c8c8c8</span> <span class="hljs-number">50%</span>,<br>    <span class="hljs-number">#ffffff</span> <span class="hljs-number">100%</span><br>  );<br>  <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">drop-shadow</span>(<span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.2</span>));<br>  &amp;<span class="hljs-selector-pseudo">:active</span> &#123;<br>    <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">brightness</span>(<span class="hljs-number">0.95</span>) <span class="hljs-built_in">drop-shadow</span>(<span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">4px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>));<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="3-3-过渡与动画（transition、-keyframes、animation）"><a href="#3-3-过渡与动画（transition、-keyframes、animation）" class="headerlink" title="3.3 过渡与动画（transition、@keyframes、animation）"></a>3.3 过渡与动画（transition、@keyframes、animation）</h2><h3 id="CSS过渡（transition）"><a href="#CSS过渡（transition）" class="headerlink" title="CSS过渡（transition）"></a>CSS过渡（transition）</h3><p>实现属性变化的平滑过渡（适合简单的交互效果）</p>
<p><strong>核心属性</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.element</span> &#123;<br>  <span class="hljs-attribute">transition</span>: <br>    [property] [duration] [timing-function] [delay];<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>参数详解：<ul>
<li>property：要过渡的属性（如 all、opacity）</li>
<li>duration：持续时间（0.3s 或 300ms）</li>
<li>timing-function：速度曲线（ease-in-out）</li>
<li>delay：延迟时间（可选）</li>
</ul>
</li>
</ul>
<p><strong>贝塞尔曲线进阶</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 自定义缓动曲线（阿里Ant Motion规范） */</span><br><span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.4s</span> <span class="hljs-built_in">cubic-bezier</span>(<span class="hljs-number">0.68</span>, -<span class="hljs-number">0.6</span>, <span class="hljs-number">0.32</span>, <span class="hljs-number">1.6</span>);<br></code></pre></td></tr></table></figure>

<ul>
<li>常用预设：<ul>
<li>ease-in-out：平滑加减速</li>
<li>linear：均速</li>
<li>steps(4)：分步动画</li>
</ul>
</li>
</ul>
<p><strong>实践</strong></p>
<p>（1）硬件加速</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span>;<br>  <span class="hljs-attribute">will-change</span>: transform; <span class="hljs-comment">/* 预提示浏览器 */</span><br>&#125;<br><span class="hljs-selector-class">.card</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">5px</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="关键帧动画（-keyframes）"><a href="#关键帧动画（-keyframes）" class="headerlink" title="关键帧动画（@keyframes）"></a>关键帧动画（@keyframes）</h3><p>定义复杂的多阶段动画，适合需要精确控制的场景。</p>
<p><strong>基本语法</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-keyword">@keyframes</span> slideIn &#123;<br>  <span class="hljs-selector-tag">from</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(-<span class="hljs-number">100%</span>); &#125;<br>  <span class="hljs-selector-tag">to</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">0</span>); &#125;<br>&#125;<br><br><span class="hljs-comment">/* 或百分比控制 */</span><br><span class="hljs-keyword">@keyframes</span> pulse &#123;<br>  <span class="hljs-number">0%</span> &#123; <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; &#125;<br>  <span class="hljs-number">50%</span> &#123; <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>; &#125;<br>  <span class="hljs-number">100%</span> &#123; <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>动画属性（animation）</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.element</span> &#123;<br>  <span class="hljs-attribute">animation</span>: <br>    [name] [duration] [timing-function] [delay] <br>    [iteration-count] [direction] [fill-mode];<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>参数扩展：<ul>
<li>iteration-count：播放次数（infinite表示无限循环）</li>
<li>direction：alternate（往返播放）</li>
<li>fill-mode：forwards（保留最后一帧）</li>
</ul>
</li>
</ul>
<p><strong>视频加载动画案例</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-keyword">@keyframes</span> dotPulse &#123;<br>  <span class="hljs-number">0%</span>, <span class="hljs-number">100%</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1</span>); <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; &#125;<br>  <span class="hljs-number">50%</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.5</span>); <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.7</span>; &#125;<br>&#125;<br><span class="hljs-selector-class">.loading-dot</span> &#123;<br>  <span class="hljs-attribute">animation</span>: dotPulse <span class="hljs-number">1.5s</span> infinite ease-in-out;<br>&#125;<br><span class="hljs-selector-class">.loading-dot</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>) &#123;<br>  <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">0.2s</span>;<br>&#125;<br><span class="hljs-selector-class">.loading-dot</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>) &#123;<br>  <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">0.4s</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>可动画属性性能排行</strong></p>
<table>
<thead>
<tr>
<th align="left">属性类型</th>
<th align="left">性能影响</th>
<th align="left">推荐场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">transform</td>
<td align="left">最优</td>
<td align="left">位移&#x2F;旋转&#x2F;缩放</td>
</tr>
<tr>
<td align="left">opacity</td>
<td align="left">优</td>
<td align="left">淡入淡出</td>
</tr>
<tr>
<td align="left">color</td>
<td align="left">中</td>
<td align="left">非高频变化</td>
</tr>
<tr>
<td align="left">width&#x2F;height</td>
<td align="left">差</td>
<td align="left">避免在动画中使用</td>
</tr>
</tbody></table>
<h2 id="3-4-变形（transform：rotate、scale、translate）"><a href="#3-4-变形（transform：rotate、scale、translate）" class="headerlink" title="3.4 变形（transform：rotate、scale、translate）"></a>3.4 变形（transform：rotate、scale、translate）</h2><h3 id="transform-核心功能总览"><a href="#transform-核心功能总览" class="headerlink" title="transform 核心功能总览"></a>transform 核心功能总览</h3><p>在不影响文档流的前提下，对元素进行视觉变形，包含四大类操作：</p>
<table>
<thead>
<tr>
<th align="left">变形类型</th>
<th align="left">函数示例</th>
<th align="left">变形基准点（默认）</th>
</tr>
</thead>
<tbody><tr>
<td align="left">旋转（Rotate）</td>
<td align="left">rotate(45deg)</td>
<td align="left">元素中心</td>
</tr>
<tr>
<td align="left">缩放（Scale）</td>
<td align="left">scale(1.2)</td>
<td align="left">元素中心</td>
</tr>
<tr>
<td align="left">位移（Translate）</td>
<td align="left">translate(20px, 50px)</td>
<td align="left">元素自身位置</td>
</tr>
<tr>
<td align="left">倾斜（Skew）</td>
<td align="left">skew(15deg)</td>
<td align="left">元素中心</td>
</tr>
</tbody></table>
<h3 id="二维变形详解"><a href="#二维变形详解" class="headerlink" title="二维变形详解"></a>二维变形详解</h3><p>（1）旋转 - rotate</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.transform-rotate</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">30deg</span>); <span class="hljs-comment">/* 顺时针旋转 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>进阶控制：</p>
<ul>
<li>rotateX(45deg)：绕X轴旋转（3D效果）</li>
<li>rotateY(180deg)：绕Y轴旋转（镜面翻转）</li>
<li>rotateZ(90deg)：等同于rotate()（Z轴垂直于屏幕）</li>
</ul>
<p>（2）缩放 - scale</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.transform-scale</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.5</span>); <span class="hljs-comment">/* 整体放大1.5倍 */</span><br>  <span class="hljs-comment">/* 或分开控制 */</span><br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleX</span>(<span class="hljs-number">1.2</span>) <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.8</span>); <br>&#125;<br></code></pre></td></tr></table></figure>

<p>陷阱：</p>
<ul>
<li>缩放不影响布局（相邻元素不会自动避让）</li>
<li>可能引发文字模糊（需配合transform-origin调整基准点）</li>
</ul>
<p>（3）位移 - translate</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.transform-translate</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(<span class="hljs-number">50%</span>, -<span class="hljs-number">20px</span>); <span class="hljs-comment">/* 水平50% 垂直-20px */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>百分比计算基准：</p>
<ul>
<li>translateX(50%)：基于元素自身宽度</li>
<li>left: 50%：基于父容器宽度</li>
</ul>
<p>（4）倾斜 - skew</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.transform-skew</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">skew</span>(<span class="hljs-number">15deg</span>, -<span class="hljs-number">10deg</span>); <span class="hljs-comment">/* X轴15° Y轴-10° */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>应用场景：创建平行四边形按钮、斜切 banner 效果</p>
<h3 id="变形属性性能排序"><a href="#变形属性性能排序" class="headerlink" title="变形属性性能排序"></a>变形属性性能排序</h3><table>
<thead>
<tr>
<th align="left">变形类型</th>
<th align="left">性能影响</th>
<th align="left">推荐场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">translate</td>
<td align="left">最优</td>
<td align="left">位移动画</td>
</tr>
<tr>
<td align="left">scale</td>
<td align="left">优</td>
<td align="left">缩放效果</td>
</tr>
<tr>
<td align="left">rotate</td>
<td align="left">中</td>
<td align="left">避免高频旋转</td>
</tr>
<tr>
<td align="left">filter+变形</td>
<td align="left">差</td>
<td align="left">谨慎组合使用</td>
</tr>
</tbody></table>
<h2 id="3-5-3D-变换（perspective、transform-style）"><a href="#3-5-3D-变换（perspective、transform-style）" class="headerlink" title="3.5 3D 变换（perspective、transform-style）"></a>3.5 3D 变换（perspective、transform-style）</h2><h3 id="3D-变换核心概念"><a href="#3D-变换核心概念" class="headerlink" title="3D 变换核心概念"></a>3D 变换核心概念</h3><p>CSS 3D 变换通过模拟三维坐标系（X&#x2F;Y&#x2F;Z 轴）实现立体效果，关键依赖两个属性：</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">作用</th>
<th align="left">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">perspective</td>
<td align="left">定义观察者与3D空间的视觉距离</td>
<td align="left">none</td>
</tr>
<tr>
<td align="left">transform-style</td>
<td align="left">决定子元素是否保留3D变换特性</td>
<td align="left">flat</td>
</tr>
</tbody></table>
<h3 id="perspective-景深控制"><a href="#perspective-景深控制" class="headerlink" title="perspective 景深控制"></a>perspective 景深控制</h3><p>原理：模拟人眼到3D物体的距离，数值越小透视效果越强。</p>
<p><strong>基础用法</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">perspective</span>: <span class="hljs-number">1000px</span>; <span class="hljs-comment">/* 推荐值：500-2000px */</span><br>&#125;<br><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateY</span>(<span class="hljs-number">45deg</span>); <span class="hljs-comment">/* 此时会有3D透视效果 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>两种设置方式</strong></p>
<p>（1）场景景深（父元素设置，影响所有子元素）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.scene</span> &#123;<br>  <span class="hljs-attribute">perspective</span>: <span class="hljs-number">1200px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）个体景深（元素自身设置，仅影响当前元素）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">perspective</span>(<span class="hljs-number">1200px</span>) <span class="hljs-built_in">rotateY</span>(<span class="hljs-number">45deg</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>性能优化</strong></p>
<ul>
<li>避免动态修改perspective（触发重排）</li>
<li>移动端建议值≥800px（防止过度变形）</li>
</ul>
<h3 id="transform-style-3D-空间继承"><a href="#transform-style-3D-空间继承" class="headerlink" title="transform-style 3D 空间继承"></a>transform-style 3D 空间继承</h3><p>控制子元素是否在独立 3D 空间中渲染：</p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">效果</th>
<th align="left">应用场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">flat</td>
<td align="left">子元素被压扁到2D平面（默认）</td>
<td align="left">普通变形</td>
</tr>
<tr>
<td align="left">preserve-3d</td>
<td align="left">子元素保持3D空间关系</td>
<td align="left">复杂3D组合体</td>
</tr>
</tbody></table>
<p><strong>典型案例：立方体制作</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;div class=&quot;cube&quot;&gt;<br>  &lt;div class=&quot;face front&quot;&gt;Front&lt;/div&gt;<br>  &lt;div class=&quot;face back&quot;&gt;Back&lt;/div&gt;<br>  &lt;!-- 其他4个面 --&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.cube</span> &#123;<br>  <span class="hljs-attribute">transform-style</span>: preserve-<span class="hljs-number">3</span>d;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">15deg</span>) <span class="hljs-built_in">rotateY</span>(<span class="hljs-number">30deg</span>);<br>&#125;<br><span class="hljs-selector-class">.face</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>&#125;<br><span class="hljs-selector-class">.front</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateZ</span>(<span class="hljs-number">100px</span>); &#125;<br><span class="hljs-selector-class">.back</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateY</span>(<span class="hljs-number">180deg</span>) <span class="hljs-built_in">translateZ</span>(<span class="hljs-number">100px</span>); &#125;<br><span class="hljs-comment">/* 其他面类似 */</span><br></code></pre></td></tr></table></figure>

<h3 id="3D-变换函数进阶"><a href="#3D-变换函数进阶" class="headerlink" title="3D 变换函数进阶"></a>3D 变换函数进阶</h3><p><strong>三维位移</strong></p>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">轴方向</th>
<th align="left">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">translateZ(z)</td>
<td align="left">垂直于屏幕（远近）</td>
<td align="left">translateZ(50px)</td>
</tr>
<tr>
<td align="left">translate3d(x,y,z)</td>
<td align="left">三维复合位移</td>
<td align="left">translate3d(0, 10%, 20px)</td>
</tr>
</tbody></table>
<p><strong>三维旋转</strong></p>
<table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">旋转轴</th>
<th align="left">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rotateX(angle)</td>
<td align="left">水平轴（上下翻转）</td>
<td align="left">rotateX(45deg)</td>
</tr>
<tr>
<td align="left">rotateY(angle)</td>
<td align="left">垂直轴（左右翻转）</td>
<td align="left">rotateY(180deg)</td>
</tr>
<tr>
<td align="left">rotate3d(x,y,z,a)</td>
<td align="left">自定义旋转轴</td>
<td align="left">rotate3d(1,1,0,45deg)</td>
</tr>
</tbody></table>
<h3 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h3><p>（1）复合动画策略</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 错误示范：连续修改不同属性 */</span><br><span class="hljs-keyword">@keyframes</span> bad-animation &#123;<br>  <span class="hljs-number">0%</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">0</span>); &#125;<br>  <span class="hljs-number">50%</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">100px</span>); &#125;<br>  <span class="hljs-number">100%</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">180deg</span>); &#125;<br>&#125;<br><br><span class="hljs-comment">/* 正确做法：保持相同变换属性 */</span><br><span class="hljs-keyword">@keyframes</span> good-animation &#123;<br>  <span class="hljs-number">0%</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">0</span>) <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>); &#125;<br>  <span class="hljs-number">100%</span> &#123; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">180deg</span>) <span class="hljs-built_in">translateY</span>(<span class="hljs-number">100px</span>); &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="第四章：CSS-高级特性"><a href="#第四章：CSS-高级特性" class="headerlink" title="第四章：CSS 高级特性"></a>第四章：CSS 高级特性</h1><h2 id="4-1-变量（CSS-Custom-Properties）"><a href="#4-1-变量（CSS-Custom-Properties）" class="headerlink" title="4.1 变量（CSS Custom Properties）"></a>4.1 变量（CSS Custom Properties）</h2><h3 id="基础概念与语法"><a href="#基础概念与语法" class="headerlink" title="基础概念与语法"></a>基础概念与语法</h3><p>CSS 变量（又成自定义属性）是 CSS 的动态存储机制，具有级联继承特性</p>
<p><strong>定义与使用</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 定义变量（带--前缀） */</span><br><span class="hljs-selector-pseudo">:root</span> &#123;<br>  <span class="hljs-attr">--primary-color</span>: <span class="hljs-number">#4285f4</span>;<br>  <span class="hljs-attr">--spacing-unit</span>: <span class="hljs-number">8px</span>;<br>&#125;<br><br><span class="hljs-comment">/* 使用变量（通过var()函数） */</span><br><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--primary-color);<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-built_in">var</span>(--spacing-unit) <span class="hljs-built_in">calc</span>(<span class="hljs-built_in">var</span>(--spacing-unit) * <span class="hljs-number">2</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>作用域规则</strong></p>
<ul>
<li>全局变量：定义在 <code>:root</code> 选择器内</li>
<li>局部变量：定义在特定选择器内</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attr">--card-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>); <span class="hljs-comment">/* 仅.card内有效 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="核心特性解析"><a href="#核心特性解析" class="headerlink" title="核心特性解析"></a>核心特性解析</h3><p><strong>动态计算能力</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-pseudo">:root</span> &#123;<br>  <span class="hljs-attr">--base-size</span>: <span class="hljs-number">16px</span>;<br>  <span class="hljs-attr">--h1-size</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-built_in">var</span>(--base-size) * <span class="hljs-number">2</span>);<br>&#125;<br><span class="hljs-selector-tag">h1</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">var</span>(--h1-size); &#125;<br></code></pre></td></tr></table></figure>

<p><strong>回退机制</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.element</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--undefined-var, <span class="hljs-number">#f00</span>); <span class="hljs-comment">/* 变量不存在时使用#f00 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>类型灵活性</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-pseudo">:root</span> &#123;<br>  <span class="hljs-attr">--theme-gradient</span>: <span class="hljs-built_in">linear-gradient</span>(to right, <span class="hljs-number">#ff8a00</span>, <span class="hljs-number">#da1b60</span>);<br>  <span class="hljs-attr">--mobile-breakpoint</span>: <span class="hljs-number">768px</span>;<br>  <span class="hljs-attr">--transition-config</span>: <span class="hljs-number">0.3s</span> ease-in-out;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="应用场景示例：主题切换"><a href="#应用场景示例：主题切换" class="headerlink" title="应用场景示例：主题切换"></a>应用场景示例：主题切换</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 定义主题变量 */</span><br><span class="hljs-selector-pseudo">:root</span> &#123;<br>  <span class="hljs-attr">--bg-color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#333</span>;<br>&#125;<br><br><span class="hljs-comment">/* 暗色模式 */</span><br><span class="hljs-selector-attr">[data-theme=<span class="hljs-string">&quot;dark&quot;</span>]</span> &#123;<br>  <span class="hljs-attr">--bg-color</span>: <span class="hljs-number">#222</span>;<br>  <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#f0f0f0</span>;<br>&#125;<br><br><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--bg-color);<br>  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color);<br>  <span class="hljs-attribute">transition</span>: background <span class="hljs-number">0.3s</span>, color <span class="hljs-number">0.3s</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// JS切换主题</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;data-theme&#x27;</span>, <span class="hljs-string">&#x27;dark&#x27;</span>);<br></code></pre></td></tr></table></figure>

<h2 id="4-2-伪类与伪元素（-hover、-before、-selection）"><a href="#4-2-伪类与伪元素（-hover、-before、-selection）" class="headerlink" title="4.2 伪类与伪元素（:hover、::before、::selection）"></a>4.2 伪类与伪元素（:hover、::before、::selection）</h2><h3 id="核心概念区分"><a href="#核心概念区分" class="headerlink" title="核心概念区分"></a>核心概念区分</h3><table>
<thead>
<tr>
<th align="left">特性</th>
<th align="left">伪类（Pseudo-class）</th>
<th align="left">伪元素（Pseudo-element）</th>
</tr>
</thead>
<tbody><tr>
<td align="left">语法</td>
<td align="left">单冒号（:hover）</td>
<td align="left">双冒号（::before）</td>
</tr>
<tr>
<td align="left">作用对象</td>
<td align="left">选择元素的特定状态</td>
<td align="left">创建元素的虚拟子元素</td>
</tr>
<tr>
<td align="left">DOM表现</td>
<td align="left">不创建新节点</td>
<td align="left">创建文档树外的抽象元素</td>
</tr>
<tr>
<td align="left">典型应用</td>
<td align="left">交互状态（如:hover）</td>
<td align="left">装饰性内容（如::before）</td>
</tr>
</tbody></table>
<h3 id="伪类详解（状态选择器）"><a href="#伪类详解（状态选择器）" class="headerlink" title="伪类详解（状态选择器）"></a>伪类详解（状态选择器）</h3><p><strong>动态交互伪类</strong></p>
<table>
<thead>
<tr>
<th align="left">伪类</th>
<th align="left">触发条件</th>
<th align="left">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">:hover</td>
<td align="left">鼠标悬停</td>
<td align="left">a:hover { color: red }</td>
</tr>
<tr>
<td align="left">:active</td>
<td align="left">元素被激活（如点击按下）</td>
<td align="left">button:active { transform: scale(0.98) }</td>
</tr>
<tr>
<td align="left">:focus</td>
<td align="left">获得焦点（表单&#x2F;可聚焦元素）</td>
<td align="left">input:focus { border-color: blue }</td>
</tr>
<tr>
<td align="left">:focus-visible</td>
<td align="left">键盘聚焦时生效</td>
<td align="left">兼容outline无障碍设计</td>
</tr>
</tbody></table>
<p><strong>结构伪类</strong></p>
<table>
<thead>
<tr>
<th align="left">伪类</th>
<th align="left">匹配规则</th>
<th align="left">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">:first-child</td>
<td align="left">父元素的首个子元素</td>
<td align="left">li:first-child { font-weight: bold }</td>
</tr>
<tr>
<td align="left">:nth-child(n)</td>
<td align="left">第n个子元素（支持公式）</td>
<td align="left">tr:nth-child(2n+1) { background: #f5f5f5 }</td>
</tr>
<tr>
<td align="left">:not(selector)</td>
<td align="left">反向选择器</td>
<td align="left">div:not(.hidden) { display: block }</td>
</tr>
</tbody></table>
<h3 id="伪元素详解（虚拟内容生成）"><a href="#伪元素详解（虚拟内容生成）" class="headerlink" title="伪元素详解（虚拟内容生成）"></a>伪元素详解（虚拟内容生成）</h3><p><strong>核心伪元素</strong></p>
<table>
<thead>
<tr>
<th align="left">伪元素</th>
<th align="left">作用</th>
<th align="left">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">::before</td>
<td align="left">在元素内容前插入</td>
<td align="left">.alert::before { content: “!” }</td>
</tr>
<tr>
<td align="left">::after</td>
<td align="left">在元素内容后插入</td>
<td align="left">清除浮动&#x2F;工具提示</td>
</tr>
<tr>
<td align="left">::first-line</td>
<td align="left">选中首行文本</td>
<td align="left">p::first-line { font-size: 1.2em }</td>
</tr>
<tr>
<td align="left">::selection</td>
<td align="left">用户选中的文本</td>
<td align="left">::selection { background: gold }</td>
</tr>
</tbody></table>
<p><strong>关键技术要点</strong></p>
<ol>
<li>content 属性必须设置（空字符串也要设置）</li>
<li>伪元素不接受 DOM 事件</li>
<li>默认位于主元素下层，可通过 <code>z-index</code> 调整</li>
</ol>
<h3 id="组合使用技巧示例：纯-CSS-实现工具提示"><a href="#组合使用技巧示例：纯-CSS-实现工具提示" class="headerlink" title="组合使用技巧示例：纯 CSS 实现工具提示"></a>组合使用技巧示例：纯 CSS 实现工具提示</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-attr">[data-tooltip]</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><span class="hljs-selector-attr">[data-tooltip]</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-built_in">attr</span>(data-tooltip);<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(-<span class="hljs-number">50%</span>);<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>;<br>  <span class="hljs-attribute">color</span>: white;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">8px</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>  <span class="hljs-attribute">white-space</span>: nowrap;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="4-3-BFC（块级格式化上下文）与-IFC（行内格式化上下文）"><a href="#4-3-BFC（块级格式化上下文）与-IFC（行内格式化上下文）" class="headerlink" title="4.3 BFC（块级格式化上下文）与 IFC（行内格式化上下文）"></a>4.3 BFC（块级格式化上下文）与 IFC（行内格式化上下文）</h2><h3 id="核心概念对比-1"><a href="#核心概念对比-1" class="headerlink" title="核心概念对比"></a>核心概念对比</h3><table>
<thead>
<tr>
<th align="left">特性</th>
<th align="left">BFC（Block Formatting Context）</th>
<th align="left">IFC（Inline Formatting Context）</th>
</tr>
</thead>
<tbody><tr>
<td align="left">布局方向</td>
<td align="left">垂直排列</td>
<td align="left">水平排列</td>
</tr>
<tr>
<td align="left">元素类型</td>
<td align="left">块级元素参与</td>
<td align="left">行内级元素参与</td>
</tr>
<tr>
<td align="left">宽度计算</td>
<td align="left">撑满父容器（除非指定宽度）</td>
<td align="left">由内容决定</td>
</tr>
<tr>
<td align="left">边距处理</td>
<td align="left">垂直边距可能合并</td>
<td align="left">水平边距有效，垂直边距不影响行高</td>
</tr>
<tr>
<td align="left">经典应用</td>
<td align="left">清除浮动&#x2F;防止边距合并</td>
<td align="left">文字对齐&#x2F;行内元素排列</td>
</tr>
</tbody></table>
<h3 id="BFC-详解（块级格式化上下文）"><a href="#BFC-详解（块级格式化上下文）" class="headerlink" title="BFC 详解（块级格式化上下文）"></a>BFC 详解（块级格式化上下文）</h3><p><strong>触发条件</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 任一条件即可触发 */</span><br><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: flow-root; <span class="hljs-comment">/* 最纯净的BFC */</span><br>  <span class="hljs-attribute">overflow</span>: hidden;   <span class="hljs-comment">/* 非visible */</span><br>  <span class="hljs-attribute">float</span>: left/right;<br>  <span class="hljs-attribute">position</span>: absolute/fixed;<br>  <span class="hljs-attribute">display</span>: inline-block/table-cell/flex/grid;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>核心特性</strong></p>
<ul>
<li>隔离的布局环境：内部元素不会影响外部元素布局，外部浮动不会侵入 BFC 区域</li>
<li>边距折叠解决：外部元素不再发生边距合并</li>
<li>包含浮动元素</li>
</ul>
<p><strong>示例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;div class=&quot;bfc-container&quot;&gt; &lt;!-- 触发BFC --&gt;<br>  &lt;div style=&quot;margin: 20px&quot;&gt;&lt;/div&gt;<br>&lt;/div&gt;<br>&lt;!-- 外部元素不再发生边距合并 --&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">display</span>: table; <span class="hljs-comment">/* 创建BFC */</span><br>  <span class="hljs-attribute">clear</span>: both;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="IFC-详解（行内格式化上下文）"><a href="#IFC-详解（行内格式化上下文）" class="headerlink" title="IFC 详解（行内格式化上下文）"></a>IFC 详解（行内格式化上下文）</h3><p><strong>触发条件</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 默认由行内级元素自动创建 */</span><br><span class="hljs-selector-class">.inline-container</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline/inline-block/inline-flex;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>; <span class="hljs-comment">/* 影响line-height计算 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>核心特性</strong></p>
<ul>
<li>行框（line box）概念：每行文本生成一个矩形行框，高度由 <code>line-height</code> 决定</li>
<li>垂直对齐控制：<code>vertical-align: middle</code> 相对行框对齐</li>
<li>空白符处理：连续多个空白符合并为单个空格，换行符转为空格</li>
</ul>
<h3 id="布局场景对比"><a href="#布局场景对比" class="headerlink" title="布局场景对比"></a>布局场景对比</h3><p><strong>浮动元素处理</strong></p>
<table>
<thead>
<tr>
<th align="left">方案</th>
<th align="left">BFC</th>
<th align="left">IFC</th>
</tr>
</thead>
<tbody><tr>
<td align="left">效果</td>
<td align="left">包含浮动，阻止文字环绕</td>
<td align="left">无法包含浮动，允许文字环绕</td>
</tr>
<tr>
<td align="left">代码</td>
<td align="left">overflow: hidden</td>
<td align="left">默认行为</td>
</tr>
</tbody></table>
<p><strong>垂直对齐</strong></p>
<table>
<thead>
<tr>
<th align="left">方案</th>
<th align="left">BFC</th>
<th align="left">IFC</th>
</tr>
</thead>
<tbody><tr>
<td align="left">控制</td>
<td align="left">通过margin&#x2F;padding调整</td>
<td align="left">通过 vertical-align 精确控制</td>
</tr>
<tr>
<td align="left">精度</td>
<td align="left">整块调整</td>
<td align="left">像素级对齐</td>
</tr>
</tbody></table>
<h3 id="高频面试"><a href="#高频面试" class="headerlink" title="高频面试"></a>高频面试</h3><p><strong>Q：BFC 如何解决边距合并</strong></p>
<p>创建独立布局环境，阻断与外部元素的边距折叠</p>
<p><strong>Q：IFC 中 <code>vertical-align</code> 失效的原因？</strong></p>
<ul>
<li>检查元素是否真是行内级（display 值）</li>
<li>确认父元素有有效 <code>line-height</code></li>
</ul>
<p><strong>Q：BFC与display: flow-root的区别？</strong></p>
<p>flow-root是专为BFC设计的新值，无副作用（不触发滚动条&#x2F;裁剪）</p>
<h2 id="4-4-CSS-性能优化（will-change、contain、GPU-加速）"><a href="#4-4-CSS-性能优化（will-change、contain、GPU-加速）" class="headerlink" title="4.4 CSS 性能优化（will-change、contain、GPU 加速）"></a>4.4 CSS 性能优化（will-change、contain、GPU 加速）</h2><h3 id="will-change：性能优化预告系统"><a href="#will-change：性能优化预告系统" class="headerlink" title="will-change：性能优化预告系统"></a>will-change：性能优化预告系统</h3><ul>
<li>作用：预先告知浏览器元素可能发生的变化，让浏览器提前优化</li>
</ul>
<p><strong>正确使用姿势</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.optimize</span> &#123;<br>  <span class="hljs-attribute">will-change</span>: transform, opacity; <span class="hljs-comment">/* 明确指定要变化的属性 */</span><br>  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span>;<br>&#125;<br><span class="hljs-selector-class">.optimize</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.1</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>最佳实践</strong></p>
<p>（1）适用场景</p>
<ul>
<li>复杂动画元素</li>
<li>即将发生变化的滚动区域</li>
</ul>
<p>（2）避坑指南</p>
<ul>
<li>不要过度使用（每个页面 &lt;&#x3D; 5 个）</li>
<li>动画结束后移除（通过 js）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">element.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;animationend&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  element.<span class="hljs-property">style</span>.<span class="hljs-property">willChange</span> = <span class="hljs-string">&#x27;auto&#x27;</span>;<br>&#125;);<br></code></pre></td></tr></table></figure>

<h3 id="contain：布局隔离核武器"><a href="#contain：布局隔离核武器" class="headerlink" title="contain：布局隔离核武器"></a>contain：布局隔离核武器</h3><ul>
<li>作用：限制浏览器重绘&#x2F;回流范围，类似于 React 的 shouldComponentUpdate</li>
</ul>
<p><strong>关键属性值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">优化方向</th>
<th align="left">适用场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">layout</td>
<td align="left">隔离布局计算</td>
<td align="left">频繁移动的独立组件</td>
</tr>
<tr>
<td align="left">paint</td>
<td align="left">限制绘制区域</td>
<td align="left">弹窗&#x2F;下拉菜单</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left">忽略子元素尺寸影响</td>
<td align="left">固定尺寸容器</td>
</tr>
<tr>
<td align="left">strict</td>
<td align="left">全部隔离（性能最强）</td>
<td align="left">复杂动画组件</td>
</tr>
</tbody></table>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.product-card</span> &#123;<br>  <span class="hljs-attribute">contain</span>: strict; <span class="hljs-comment">/* 卡片内部变化不影响外部布局 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="GPU加速：复合层优化策略"><a href="#GPU加速：复合层优化策略" class="headerlink" title="GPU加速：复合层优化策略"></a>GPU加速：复合层优化策略</h3><p><strong>GPU 加速的本质</strong></p>
<p>浏览器将特定元素的渲染工作从 CPU 转移到 GPU 处理，利用图形硬件的并行计算能力。这种优化通过创建独立的复合层实现。</p>
<p><strong>核心触发条件（chromium 内核为例）</strong></p>
<p>（1）3D 变换属性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.transform-3d</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate3d</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);  <span class="hljs-comment">/* 最常用hack */</span><br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateY</span>(<span class="hljs-number">10deg</span>);        <span class="hljs-comment">/* 任意3D函数 */</span><br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">perspective</span>(<span class="hljs-number">500px</span>);    <span class="hljs-comment">/* 景深设置 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>作用机制：强制浏览器将元素视为 3D 空间对象，自动触发层提升</p>
<p>（2）透明度动画 + 硬件加速</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.fade-in</span> &#123;<br>  <span class="hljs-attribute">will-change</span>: opacity;  <span class="hljs-comment">/* 预先声明 */</span><br>  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.3s</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>特殊场景：仅当与 transform 或 filter 组合时 GPU 加速才稳定生效</p>
<p>（3）滤镜效果</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.filter-gpu</span> &#123;<br>  <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">5px</span>);          <span class="hljs-comment">/* 高斯模糊 */</span><br>  <span class="hljs-attribute">backdrop-filter</span>: <span class="hljs-built_in">saturate</span>(<span class="hljs-number">180%</span>); <span class="hljs-comment">/* 背景滤镜 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>性能警告：filter 属性可能引发重绘（需配合 will-change 优化）</p>
<p>（4）强制层提升属性</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">效果</th>
<th align="left">推荐指数</th>
</tr>
</thead>
<tbody><tr>
<td align="left">will-change: transform</td>
<td align="left">最标准做法</td>
<td align="left">★★★★★</td>
</tr>
<tr>
<td align="left">backface-visibility: hidden</td>
<td align="left">旧版兼容方案</td>
<td align="left">★★★☆☆</td>
</tr>
<tr>
<td align="left">perspective: 1000px</td>
<td align="left">创建3D上下文</td>
<td align="left">★★★★☆</td>
</tr>
</tbody></table>
<p><strong>优化原理</strong></p>
<ul>
<li>将元素提升到独立复合层</li>
<li>避免与主线程的布局计算相互阻塞</li>
</ul>
<p><strong>浏览器渲染管线分析</strong></p>
<pre class="mermaid">graph TD
    A[Style Recalc] --> B[Layout]
    B --> C[Paint]
    C --> D[Composite]
    D -->|GPU加速| E[Layer Drawing]</pre>

<p>关键阶段：</p>
<ul>
<li>Composite：浏览器决定哪些元素需要独立图层</li>
<li>Layer Drawing：GPU实际渲染图层</li>
</ul>
<p><strong>层创建规则</strong></p>
<p>（1）显式触发条件</p>
<ul>
<li>3D 或透视变换（perspective、transform3d）</li>
<li>视频&#x2F;canvas&#x2F;webGL 等嵌入式内容</li>
<li>对 opacity&#x2F;transform 等做 CSS 动画</li>
<li>具有 filter 或 mask 属性的元素</li>
</ul>
<p>（2）隐式触发条件</p>
<ul>
<li>重叠元素（z-index 较高可能被提升）</li>
<li>滚动容器内的固定位置元素</li>
<li>使用 position:fixed 的元素</li>
</ul>
<p><strong>注意事项</strong></p>
<ul>
<li>内存消耗：每个复合层约占用 1MB 内存</li>
<li>层爆炸：避免超过 100 个复合层（chromium 限制）</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 错误：过度创建复合层 */</span><br><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateZ</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>);<br>&#125;<br><br><span class="hljs-comment">/* 正确：合并优化 */</span><br><span class="hljs-selector-class">.optimized-card</span> &#123;<br>  <span class="hljs-attribute">will-change</span>: transform, box-shadow;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="组合优化方案"><a href="#组合优化方案" class="headerlink" title="组合优化方案"></a>组合优化方案</h3><p>（1）虚拟列表优化</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.list-item</span> &#123;<br>  <span class="hljs-attribute">contain</span>: strict;<br>  <span class="hljs-attribute">will-change</span>: transform;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-built_in">var</span>(--pos));<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）高性能动画三件套</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.smooth-animation</span> &#123;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateZ</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-attribute">will-change</span>: transform;<br>  <span class="hljs-attribute">contain</span>: strict;<br>  <span class="hljs-comment">/* 只使用opacity/transform变化 */</span><br>  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span> <span class="hljs-built_in">cubic-bezier</span>(<span class="hljs-number">0.2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（3）谷歌Chrome团队建议</p>
<ul>
<li>对position: fixed元素始终使用will-change: transform</li>
<li>滚动容器设置overflow: auto而非scroll（避免常驻层）</li>
</ul>
<h2 id="4-5-现代-CSS-特性（aspect-ratio、gap、scroll-snap）"><a href="#4-5-现代-CSS-特性（aspect-ratio、gap、scroll-snap）" class="headerlink" title="4.5 现代 CSS 特性（aspect-ratio、gap、scroll-snap）"></a>4.5 现代 CSS 特性（aspect-ratio、gap、scroll-snap）</h2><h3 id="aspect-ratio：实现元素宽高比的终极解决方案"><a href="#aspect-ratio：实现元素宽高比的终极解决方案" class="headerlink" title="aspect-ratio：实现元素宽高比的终极解决方案"></a>aspect-ratio：实现元素宽高比的终极解决方案</h3><p><strong>基础用法</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.media-box</span> &#123;<br>  <span class="hljs-attribute">aspect-ratio</span>: <span class="hljs-number">16</span>/<span class="hljs-number">9</span>; <span class="hljs-comment">/* 宽度:高度=16:9 */</span><br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-comment">/* 宽度优先，高度自动计算 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>计算规则</strong></p>
<p>高度 &#x3D; 宽度 x （分母&#x2F;分子）</p>
<p><strong>特殊场景处理</strong></p>
<table>
<thead>
<tr>
<th align="left">场景</th>
<th align="left">解决方案</th>
</tr>
</thead>
<tbody><tr>
<td align="left">同时设置宽高</td>
<td align="left">aspect-ratio会覆盖height</td>
</tr>
<tr>
<td align="left">最小&#x2F;最大高度限制</td>
<td align="left">使用min-height&#x2F;max-height</td>
</tr>
<tr>
<td align="left">替换元素(如img)</td>
<td align="left">优先使用元素原生宽高比</td>
</tr>
</tbody></table>
<h3 id="gap：取代-margin-的智能间距系统"><a href="#gap：取代-margin-的智能间距系统" class="headerlink" title="gap：取代 margin 的智能间距系统"></a>gap：取代 margin 的智能间距系统</h3><p><strong>多布局通用语法</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.grid-layout</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>; <span class="hljs-comment">/* 行列间距统一 */</span><br>&#125;<br><br><span class="hljs-selector-class">.flex-layout</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>; <span class="hljs-comment">/* 行间距 列间距 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>浏览器兼容策略</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.grid</span> &#123;<br>  <span class="hljs-comment">/* 旧版Grid支持 */</span><br>  <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-comment">/* 标准写法 */</span><br>  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="scroll-snap：精准控制滚动"><a href="#scroll-snap：精准控制滚动" class="headerlink" title="scroll-snap：精准控制滚动"></a>scroll-snap：精准控制滚动</h3><p><strong>完整属性体系</strong></p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">作用</th>
<th align="left">示例值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">scroll-snap-type</td>
<td align="left">容器滚动捕捉类型</td>
<td align="left">x mandatory</td>
</tr>
<tr>
<td align="left">scroll-snap-align</td>
<td align="left">子项对齐位置</td>
<td align="left">start center end</td>
</tr>
<tr>
<td align="left">scroll-snap-stop</td>
<td align="left">是否强制停留</td>
<td align="left">normal always</td>
</tr>
<tr>
<td align="left">scroll-padding</td>
<td align="left">滚动视窗内边距</td>
<td align="left">20px</td>
</tr>
</tbody></table>
<p><strong>横向轮播图实现</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;div class=&quot;carousel&quot;&gt;<br>  &lt;div class=&quot;slide&quot;&gt;1&lt;/div&gt;<br>  &lt;div class=&quot;slide&quot;&gt;2&lt;/div&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.carousel</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">overflow-x</span>: auto;<br>  <span class="hljs-attribute">scroll-snap-type</span>: x mandatory;<br>  <span class="hljs-attribute">scroll-padding</span>: <span class="hljs-number">20px</span>; <span class="hljs-comment">/* 避免内容被遮挡 */</span><br>&#125;<br><br><span class="hljs-selector-class">.slide</span> &#123;<br>  <span class="hljs-attribute">scroll-snap-align</span>: start;<br>  <span class="hljs-attribute">flex</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">80vw</span>; <span class="hljs-comment">/* 每屏显示一个 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="浏览器支持与降级方案"><a href="#浏览器支持与降级方案" class="headerlink" title="浏览器支持与降级方案"></a>浏览器支持与降级方案</h3><p><strong>特性检测策略</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS">// 检测<span class="hljs-attribute">aspect-ratio</span>支持<br>const supportsAspectRatio = CSS<span class="hljs-selector-class">.supports</span>(&#x27;<span class="hljs-attribute">aspect-ratio</span>: <span class="hljs-number">1</span>/<span class="hljs-number">1</span><span class="hljs-string">&#x27;);</span><br><span class="hljs-string"></span><br><span class="hljs-string">// 检测gap支持（Flexbox版本）</span><br><span class="hljs-string">const supportsFlexGap = CSS.supports(&#x27;</span>gap: <span class="hljs-number">10px</span><span class="hljs-string">&#x27;, &#x27;</span>display: flex<span class="hljs-string">&#x27;);</span><br></code></pre></td></tr></table></figure>

<p><strong>渐进增强写法</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-comment">/* 旧版Flex布局间距 */</span><br>  <span class="hljs-attribute">margin</span>: -<span class="hljs-number">5px</span>;<br>&#125;<br><span class="hljs-selector-class">.item</span> &#123;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-keyword">@supports</span> (<span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>) &#123;<br>  <span class="hljs-selector-class">.container</span> &#123;<br>    <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>  &#125;<br>  <span class="hljs-selector-class">.item</span> &#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="第五章：CSS-工程化与架构"><a href="#第五章：CSS-工程化与架构" class="headerlink" title="第五章：CSS 工程化与架构"></a>第五章：CSS 工程化与架构</h1><h2 id="5-1-CSS-预处理（Sass-Less-变量、嵌套、Mixin）"><a href="#5-1-CSS-预处理（Sass-Less-变量、嵌套、Mixin）" class="headerlink" title="5.1 CSS 预处理（Sass&#x2F;Less 变量、嵌套、Mixin）"></a>5.1 CSS 预处理（Sass&#x2F;Less 变量、嵌套、Mixin）</h2><h2 id="5-2-CSS-模块化（BEM、CSS-Modules、CSS-in-JS）"><a href="#5-2-CSS-模块化（BEM、CSS-Modules、CSS-in-JS）" class="headerlink" title="5.2 CSS 模块化（BEM、CSS Modules、CSS-in-JS）"></a>5.2 CSS 模块化（BEM、CSS Modules、CSS-in-JS）</h2><h2 id="5-3-PostCSS-与-Autoprefixer"><a href="#5-3-PostCSS-与-Autoprefixer" class="headerlink" title="5.3 PostCSS 与 Autoprefixer"></a>5.3 PostCSS 与 Autoprefixer</h2><h2 id="5-4-原子化-CSS（Tailwind-CSS、UnoCSS）"><a href="#5-4-原子化-CSS（Tailwind-CSS、UnoCSS）" class="headerlink" title="5.4 原子化 CSS（Tailwind CSS、UnoCSS）"></a>5.4 原子化 CSS（Tailwind CSS、UnoCSS）</h2><h2 id="5-5-设计系统与-CSS-架构（主题切换、变量管理）"><a href="#5-5-设计系统与-CSS-架构（主题切换、变量管理）" class="headerlink" title="5.5 设计系统与 CSS 架构（主题切换、变量管理）"></a>5.5 设计系统与 CSS 架构（主题切换、变量管理）</h2><h1 id="第六章：CSS-面试高频考点"><a href="#第六章：CSS-面试高频考点" class="headerlink" title="第六章：CSS 面试高频考点"></a>第六章：CSS 面试高频考点</h1><h2 id="6-1-CSS-优先级与权重深度考察"><a href="#6-1-CSS-优先级与权重深度考察" class="headerlink" title="6.1 CSS 优先级与权重深度考察"></a>6.1 CSS 优先级与权重深度考察</h2><h3 id="基础概念考察"><a href="#基础概念考察" class="headerlink" title="基础概念考察"></a>基础概念考察</h3><p><strong>Q：请解释 CSS 选择器的权重计算规则？</strong></p>
<p>权重由四个分量组成，按 (a, b, c, d) 计算：</p>
<ul>
<li>a：!important（非选择器，单独标记）</li>
<li>b：ID选择器数量（如 #header）</li>
<li>c：类&#x2F;伪类&#x2F;属性选择器数量（如 .class, :hover, [type&#x3D;”text”]）</li>
<li>d：元素&#x2F;伪元素选择器数量（如 div, ::before）</li>
</ul>
<p>示例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-id">#nav</span> <span class="hljs-selector-class">.item</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::before</span> &#123;&#125; <span class="hljs-comment">/* 权重：0,1,2,1 */</span><br></code></pre></td></tr></table></figure>

<p>陷阱：<code>!important</code> 的权重真的最高吗？</p>
<ul>
<li>当多个 !important 冲突时，仍需按选择器权重比较</li>
<li>!important 会破坏样式层叠，应尽量避免</li>
</ul>
<h3 id="权重实战考察"><a href="#权重实战考察" class="headerlink" title="权重实战考察"></a>权重实战考察</h3><p><strong>Q：判断以下样式的最终生效颜色？</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;div id=&quot;box&quot; class=&quot;container warning&quot; style=&quot;color: yellow&quot;&gt;Text&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-id">#box</span> &#123; <span class="hljs-attribute">color</span>: red; &#125;            <span class="hljs-comment">/* A */</span><br><span class="hljs-selector-class">.container</span> &#123; <span class="hljs-attribute">color</span>: blue; &#125;     <span class="hljs-comment">/* B */</span><br><span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.warning</span> &#123; <span class="hljs-attribute">color</span>: green; &#125;   <span class="hljs-comment">/* C */</span><br><span class="hljs-selector-tag">div</span> &#123; <span class="hljs-attribute">color</span>: orange <span class="hljs-meta">!important</span>; &#125; <span class="hljs-comment">/* D */</span><br></code></pre></td></tr></table></figure>

<p>分析过程：</p>
<ul>
<li>ABCD 和行内样式的权重分别为：<ul>
<li>A：0,1,0,0</li>
<li>B：0,0,1,0</li>
<li>C：0,0,1,1</li>
<li>D：1,0,0,1</li>
<li>行内样式：1,0,0,0</li>
</ul>
</li>
<li>对比各权重：D 的权重最高 -&gt; 最终 orange 颜色生效</li>
</ul>
<h3 id="层叠规则高阶问题"><a href="#层叠规则高阶问题" class="headerlink" title="层叠规则高阶问题"></a>层叠规则高阶问题</h3><p><strong>Q：在相同权重下，样式如何决定优先级？</strong></p>
<p>完整层叠顺序</p>
<ul>
<li><code>!important</code> 声明</li>
<li>来源优先级（从高到低）：<ul>
<li>用户代理样式（浏览器默认）</li>
<li>用户样式表</li>
<li>开发者样式表</li>
<li>开发者 <code>!important</code></li>
<li>用户 <code>!important</code></li>
</ul>
</li>
<li>选择器权重</li>
<li>代码顺序（后定义的覆盖先定义）</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 样式表A */</span><br><span class="hljs-selector-pseudo">:root</span> &#123; <span class="hljs-attr">--color</span>: red; &#125;<br><span class="hljs-selector-class">.box</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--color); &#125;<br><br><span class="hljs-comment">/* 样式表B（后加载） */</span><br><span class="hljs-selector-pseudo">:root</span> &#123; <span class="hljs-attr">--color</span>: blue; &#125;<br></code></pre></td></tr></table></figure>

<p>最终颜色为 blue（变量遵循代码顺序）</p>
<h3 id="CSS-变量与权重考察"><a href="#CSS-变量与权重考察" class="headerlink" title="CSS 变量与权重考察"></a>CSS 变量与权重考察</h3><p><strong>Q：CSS自定义属性的权重如何计算？</strong></p>
<p>关键规则：</p>
<ul>
<li>变量本身没有权重，继承所在规则的权重</li>
<li>使用 var() 时，最终值权重&#x3D;变量声明权重 + 使用处选择器权重</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-pseudo">:root</span> &#123; <span class="hljs-attr">--text-color</span>: red; &#125; <span class="hljs-comment">/* 权重：0,1,0,0 */</span><br><span class="hljs-selector-id">#box</span> &#123; <span class="hljs-attr">--text-color</span>: blue; &#125; <span class="hljs-comment">/* 权重：0,1,0,0 */</span><br><span class="hljs-selector-tag">p</span> &#123; <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color); &#125; <span class="hljs-comment">/* 继承变量声明处的权重 */</span><br></code></pre></td></tr></table></figure>

<p>此时 <code>&lt;div id=&quot;box&quot;&gt;&lt;p&gt;Text&lt;/p&gt;&lt;/div&gt;</code> 显示蓝色（相同权重下后定义生效）</p>
<h2 id="6-2-居中布局的-N-种方式"><a href="#6-2-居中布局的-N-种方式" class="headerlink" title="6.2 居中布局的 N 种方式"></a>6.2 居中布局的 N 种方式</h2><h3 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h3><p><strong>行内&#x2F;行内块元素</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">text-align</span>: center; <span class="hljs-comment">/* 传统方案 */</span><br>&#125;<br><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>块级元素（固定宽度）</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto; <span class="hljs-comment">/* 经典auto margins */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>flexbox 方案</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">justify-content</span>: center; <span class="hljs-comment">/* 主轴居中 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>grid 方案</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">place-items</span>: center; <span class="hljs-comment">/* 简写属性 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h3><p><strong>单行文本</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">100px</span>; <span class="hljs-comment">/* 行高=容器高度 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>表格单元格方式</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: table-cell;<br>  <span class="hljs-attribute">vertical-align</span>: middle; <span class="hljs-comment">/* 垂直居中 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>flexbox 方案</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">align-items</span>: center; <span class="hljs-comment">/* 交叉轴居中 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>绝对定位 + 负边距（传统方案）</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">50px</span>; <span class="hljs-comment">/* 高度的一半 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="完全居中（水平-垂直）"><a href="#完全居中（水平-垂直）" class="headerlink" title="完全居中（水平 + 垂直）"></a>完全居中（水平 + 垂直）</h3><p><strong>flexbox 终极方案</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">justify-content</span>: center;<br>  <span class="hljs-attribute">align-items</span>: center;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>grid 终极方案</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">place-content</span>: center; <span class="hljs-comment">/* 简写属性 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>绝对定位 + transform</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>); <span class="hljs-comment">/* 自适应宽高 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>绝对定位 + margin auto</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">inset</span>: <span class="hljs-number">0</span>; <span class="hljs-comment">/* 全方向0 */</span><br>  <span class="hljs-attribute">margin</span>: auto;<br>  <span class="hljs-attribute">width</span>: fit-content;<br>  <span class="hljs-attribute">height</span>: fit-content;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="特殊场景方案"><a href="#特殊场景方案" class="headerlink" title="特殊场景方案"></a>特殊场景方案</h3><p><strong>视口居中（vw&#x2F;vh）</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.modal</span> &#123;<br>  <span class="hljs-attribute">position</span>: fixed;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">50vh</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">50vw</span>;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>多行文本居中</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>&#125;<br><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">margin</span>: auto; <span class="hljs-comment">/* 神奇的小技巧 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>浮动元素居中</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.parent</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">display</span>: table;<br>  <span class="hljs-attribute">clear</span>: both;<br>&#125;<br><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(-<span class="hljs-number">50%</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="6-3-清除浮动的方法与-BFC-应用"><a href="#6-3-清除浮动的方法与-BFC-应用" class="headerlink" title="6.3 清除浮动的方法与 BFC 应用"></a>6.3 清除浮动的方法与 BFC 应用</h2><h3 id="清除浮动的核心方法"><a href="#清除浮动的核心方法" class="headerlink" title="清除浮动的核心方法"></a>清除浮动的核心方法</h3><p><strong>经典 clear fix 方案（最可靠）</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">display</span>: block;<br>  <span class="hljs-attribute">clear</span>: both; <span class="hljs-comment">/* 关键属性 */</span><br>&#125;<br><span class="hljs-comment">/* 兼容IE6/7 */</span><br><span class="hljs-selector-class">.clearfix</span> &#123;<br>  *<span class="hljs-attribute">zoom</span>: <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>适用场景：所有需要清除浮动的容器</p>
<p><strong>创建 BFC 容器（现代方案）</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-comment">/* 或 auto/scroll */</span><br>  <span class="hljs-attribute">display</span>: flow-root; <span class="hljs-comment">/* 最纯净的BFC */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>优势：无需额外 HTML 元素</p>
<p><strong>空 div 法（不推荐但常见）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;div class=&quot;float-left&quot;&gt;&lt;/div&gt;<br>&lt;div style=&quot;clear: both;&quot;&gt;&lt;/div&gt; &lt;!-- 清除浮动 --&gt;<br></code></pre></td></tr></table></figure>

<p><strong>伪元素 + table 布局（兼容性最佳）</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">display</span>: table;<br>  <span class="hljs-attribute">clear</span>: both;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="BFC-在清除浮动上的应用"><a href="#BFC-在清除浮动上的应用" class="headerlink" title="BFC 在清除浮动上的应用"></a>BFC 在清除浮动上的应用</h3><p><strong>核心原理</strong></p>
<p>当元素创建 BFC 时，会形成独立的布局环境，必须包含其内的所有浮动元素，以避免父容器高度塌陷。这是 CSS 规范中明确规定的 BFC 特性之一。</p>
<p><strong>具体实现方法</strong></p>
<p>（1）overflow（最常用）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-comment">/* 或 auto/scroll */</span><br>  <span class="hljs-comment">/* 触发BFC */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>特点：</p>
<ul>
<li>兼容性好（IE7+）</li>
<li>可能意外裁剪内容或产生滚动条</li>
</ul>
<p>（2）display: flow-root（现代方案）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: flow-root; <span class="hljs-comment">/* 专为清除浮动设计 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>优势：</p>
<ul>
<li>无副作用（不会裁剪内容）</li>
<li>语义明确（Chrome58+&#x2F;Firefox52+&#x2F;Edge16+）</li>
</ul>
<p>（3）浮动元素父容器（自清除）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">float</span>: left; <span class="hljs-comment">/* 自身浮动也创建BFC */</span><br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-comment">/* 保持宽度 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>适用场景：需要兼容 IE6&#x2F;7 的古老项目</p>
<p>（4）display 表格属性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: table; <span class="hljs-comment">/* 或 inline-table/table-cell */</span><br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-comment">/* 需要指定宽度 */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>注意：会改变元素默认显式特性</p>
<h2 id="6-4-响应式设计与移动端适配（REM、Viewport）"><a href="#6-4-响应式设计与移动端适配（REM、Viewport）" class="headerlink" title="6.4 响应式设计与移动端适配（REM、Viewport）"></a>6.4 响应式设计与移动端适配（REM、Viewport）</h2><h3 id="如何利用-rem-实现移动端适配"><a href="#如何利用-rem-实现移动端适配" class="headerlink" title="如何利用 rem 实现移动端适配"></a>如何利用 rem 实现移动端适配</h3><p><strong>标准答案</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// 动态设置根字体大小（推荐1rem=10px比例）</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = <br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span> / <span class="hljs-number">7.5</span> + <span class="hljs-string">&#x27;px&#x27;</span>; <br><span class="hljs-comment">// 设计稿750px时，1rem=100px</span><br></code></pre></td></tr></table></figure>

<p><strong>配套 CSS</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-comment">/* 配合PostCSS插件自动转换 */</span><br><span class="hljs-selector-class">.btn</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">1.6rem</span>; <span class="hljs-comment">/* 设计稿160px → 1.6rem */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>追问</strong></p>
<ul>
<li>为什么用 7.5？：设计稿宽度750px ÷ 100（目标rem值） &#x3D; 7.5</li>
<li>如何解决字体闪烁？：添加CSS先设置默认字号</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-tag">html</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50px</span> &#125; <span class="hljs-comment">/* 默认值 */</span><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">375px</span>)&#123; <span class="hljs-selector-tag">html</span> &#123; <span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vw</span> / <span class="hljs-number">7.5</span>) &#125; &#125;<br></code></pre></td></tr></table></figure>

<h3 id="viewport-进阶"><a href="#viewport-进阶" class="headerlink" title="viewport 进阶"></a>viewport 进阶</h3><p><strong>Q：<code>&lt;meta name=&quot;viewport&quot;&gt;</code>各参数的作用？</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;meta name=&quot;viewport&quot; <br>  content=&quot;width=device-width, <br>          initial-scale=1.0,<br>          maximum-scale=1.0,<br>          user-scalable=no,<br>          viewport-fit=cover&quot;&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>width&#x3D;device-width：视口&#x3D;设备宽度（避免默认980px缩放）</li>
<li>initial-scale&#x3D;1.0：初始缩放比例</li>
<li>viewport-fit&#x3D;cover：全面屏适配（iOS专属）</li>
</ul>
<p>陷阱：为什么 andriod 不需要设置 viewport-fit？</p>
<p>Android系统会自动处理刘海屏，而iOS需要显式声明</p>
<h3 id="如何实现高清屏下的真实-1px-边框？"><a href="#如何实现高清屏下的真实-1px-边框？" class="headerlink" title="如何实现高清屏下的真实 1px 边框？"></a>如何实现高清屏下的真实 1px 边框？</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.border-1px</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>);<br>  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>原理：利用 transform 缩放物理像素，避免直接使用 0.5px 的兼容性问题</p>
<h2 id="6-5-CSS-渲染优化（减少重排、重绘）"><a href="#6-5-CSS-渲染优化（减少重排、重绘）" class="headerlink" title="6.5 CSS 渲染优化（减少重排、重绘）"></a>6.5 CSS 渲染优化（减少重排、重绘）</h2><h3 id="基础概念考察-1"><a href="#基础概念考察-1" class="headerlink" title="基础概念考察"></a>基础概念考察</h3><p><strong>Q：解释重排（reflow）和重绘（repaint）的区别</strong></p>
<ul>
<li>重排：几何属性变更（宽&#x2F;高&#x2F;位置等）导致的布局重新计算，代价高昂</li>
<li>重绘：外观属性变化（背景&#x2F;颜色等）导致的像素重绘，不涉及布局变化</li>
<li>关键差异：重排必定触发重绘，反之不会</li>
</ul>
<p><strong>Q：哪些CSS属性会触发重排？哪些仅触发重绘？</strong></p>
<table>
<thead>
<tr>
<th align="left">重排触发属性</th>
<th align="left">仅重绘属性</th>
</tr>
</thead>
<tbody><tr>
<td align="left">width&#x2F;height</td>
<td align="left">color</td>
</tr>
<tr>
<td align="left">margin&#x2F;padding</td>
<td align="left">background</td>
</tr>
<tr>
<td align="left">display</td>
<td align="left">border-radius</td>
</tr>
<tr>
<td align="left">font-size</td>
<td align="left">box-shadow</td>
</tr>
<tr>
<td align="left">获取布局属性(offsetTop)</td>
<td align="left">visibility: hidden</td>
</tr>
</tbody></table>
<h3 id="深度原理考察"><a href="#深度原理考察" class="headerlink" title="深度原理考察"></a>深度原理考察</h3><p><strong>Q：浏览器渲染管线中如何避免布局抖动（Layout Thrashing）？</strong></p>
<p>读写分离原则：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// 错误写法（交替读写导致多次重排）</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++) &#123;<br>  el.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = i + <span class="hljs-string">&#x27;px&#x27;</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(el.<span class="hljs-property">offsetWidth</span>);<br>&#125;<br><br><span class="hljs-comment">// 正确写法（批量读写）</span><br><span class="hljs-keyword">let</span> widths = [];<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++) &#123;<br>  el.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = i + <span class="hljs-string">&#x27;px&#x27;</span>;<br>  widths.<span class="hljs-title function_">push</span>(i);<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(widths);<br></code></pre></td></tr></table></figure>

<p><strong>Q：如何利用CSS Containment优化渲染性能？</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CSS"><span class="hljs-selector-class">.widget</span> &#123;<br>  <span class="hljs-attribute">contain</span>: strict; <span class="hljs-comment">/* 最严格的隔离 */</span><br>  <span class="hljs-comment">/* 等效于 contain: size layout paint style */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>原理：限制浏览器重排&#x2F;重绘的影响范围</li>
<li>适用场景：复杂动画组件、高频更新的UI模块</li>
</ul>
<p><strong>Q：请描述从输入URL到页面渲染完成过程中，CSS优化的完整机会点</strong></p>
<ul>
<li>资源加载阶段：<ul>
<li><link rel="preload">关键CSS</li>
<li>异步加载非关键CSS（media&#x3D;”print”）</li>
</ul>
</li>
<li>解析阶段：<ul>
<li>减少@import使用</li>
<li>内联首屏关键CSS（Critical CSS）</li>
</ul>
</li>
<li>渲染阶段：<ul>
<li>避免同步布局（Force Synchronous Layout）</li>
<li>使用CSS动画代替JS动画</li>
</ul>
</li>
<li>交互阶段：<ul>
<li>防抖处理resize&#x2F;scroll事件</li>
<li>使用passive: true优化触摸事件</li>
</ul>
</li>
</ul>
<h2 id="6-6-浏览器渲染流程（CSSOM、Critical-CSS）"><a href="#6-6-浏览器渲染流程（CSSOM、Critical-CSS）" class="headerlink" title="6.6 浏览器渲染流程（CSSOM、Critical CSS）"></a>6.6 浏览器渲染流程（CSSOM、Critical CSS）</h2><h3 id="CSSOM-构建过程考察"><a href="#CSSOM-构建过程考察" class="headerlink" title="CSSOM 构建过程考察"></a>CSSOM 构建过程考察</h3><p><strong>Q：描述CSSOM树的构建流程及其阻塞特性</strong></p>
<ul>
<li>解析阶段<ul>
<li>浏览器逐条解析 CSS 规则，生成 CSSOM 树（与 DOM 树并行构建）</li>
<li><code>@import</code>和<code>&lt;link&gt;</code>会触发同步阻塞（除非显式异步加载）</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs CSS">&lt;!-- 阻塞渲染 --&gt;<br>&lt;link rel=&quot;stylesheet&quot; href=&quot;<span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.css</span>&quot;&gt;<br><br>&lt;!-- 异步加载 --&gt;<br>&lt;link rel=&quot;stylesheet&quot; href=&quot;print<span class="hljs-selector-class">.css</span>&quot; media=&quot;print&quot; onload=&quot;this<span class="hljs-selector-class">.media</span>=&#x27;<span class="hljs-attribute">all</span>&#x27;&quot;&gt;<br></code></pre></td></tr></table></figure></li>
<li>计算阶段<ul>
<li>将 CSS 规则转换为样式规则表（Style Rules）</li>
<li>遇到 JavaScript 访问 CSSOM 属性时触发同步解析（强制完成 CSSOM 构建）</li>
</ul>
</li>
</ul>
<p><strong>Q：如何验证 CSSOM 构建阻塞？</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// 测试代码（放在&lt;head&gt;中）</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">&#x27;cssom&#x27;</span>);<br><span class="hljs-title function_">getComputedStyle</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">&#x27;cssom&#x27;</span>); <br><span class="hljs-comment">// 时间差=CSSOM构建耗时</span><br></code></pre></td></tr></table></figure>

<h3 id="Critical-CSS实战方案"><a href="#Critical-CSS实战方案" class="headerlink" title="Critical CSS实战方案"></a>Critical CSS实战方案</h3><p><strong>Q：首屏优化的Critical CSS提取策略？</strong></p>
<p>工具链：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 使用Penthouse提取关键CSS</span><br>npm install penthouse -g<br>penthouse http://example.com critical.css<br></code></pre></td></tr></table></figure>

<p>实施步骤：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;!-- 内联关键CSS --&gt;<br>&lt;style&gt;<br>  .header, .hero &#123; /* 首屏可见区域样式 */ &#125;<br>&lt;/style&gt;<br><br>&lt;!-- 异步加载剩余CSS --&gt;<br>&lt;link rel=&quot;preload&quot; href=&quot;full.css&quot; as=&quot;style&quot; onload=&quot;this.rel=&#x27;stylesheet&#x27;&quot;&gt;<br>&lt;noscript&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;full.css&quot;&gt;&lt;/noscript&gt;<br></code></pre></td></tr></table></figure>

<h3 id="CSS与JavaScript"><a href="#CSS与JavaScript" class="headerlink" title="CSS与JavaScript"></a>CSS与JavaScript</h3><p><strong>Q：为什么说”CSS会阻塞JavaScript执行”？</strong></p>
<ul>
<li>默认行为：<ul>
<li>浏览器遇到<code>&lt;script&gt;</code>时会暂停 DOM 构建</li>
<li>如果存在未完成的 CSSOM 构建，JavaScript执行将被阻塞</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;link rel=&quot;stylesheet&quot; href=&quot;slow.css&quot;&gt;<br>&lt;script&gt;<br>  // 此脚本必须等待slow.css下载并解析完成<br>  console.log(&#x27;After CSSOM&#x27;);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><strong>Q：优化方案？</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs HTML">&lt;!-- 方案1：添加defer --&gt;<br>&lt;script defer src=&quot;app.js&quot;&gt;&lt;/script&gt;<br><br>&lt;!-- 方案2：动态注入CSS --&gt;<br>&lt;script&gt;<br>  const link = document.createElement(&#x27;link&#x27;);<br>  link.rel = &#x27;stylesheet&#x27;;<br>  link.href = &#x27;non-critical.css&#x27;;<br>  document.head.appendChild(link);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="如何设计CSS性能监控埋点系统"><a href="#如何设计CSS性能监控埋点系统" class="headerlink" title="如何设计CSS性能监控埋点系统"></a>如何设计CSS性能监控埋点系统</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// 1. 监控CSS加载时间</span><br><span class="hljs-keyword">const</span> cssResource = performance.<span class="hljs-title function_">getEntriesByType</span>(<span class="hljs-string">&#x27;resource&#x27;</span>)<br>  .<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-property">initiatorType</span> === <span class="hljs-string">&#x27;css&#x27;</span>);<br>  <br><span class="hljs-comment">// 2. 检测未使用CSS</span><br><span class="hljs-keyword">const</span> &#123; unusedRules &#125; = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">devtools</span>.<span class="hljs-property">inspectedWindow</span>.<span class="hljs-built_in">eval</span>(<br>  <span class="hljs-string">`(<span class="hljs-subst">$&#123;() =&gt; &#123;</span></span><br><span class="hljs-subst"><span class="hljs-string">    <span class="hljs-keyword">const</span> used = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>();</span></span><br><span class="hljs-subst"><span class="hljs-string">    <span class="hljs-built_in">Array</span>.<span class="hljs-keyword">from</span>(<span class="hljs-variable language_">document</span>.querySelectorAll(<span class="hljs-string">&#x27;*&#x27;</span>))</span></span><br><span class="hljs-subst"><span class="hljs-string">      .forEach(el =&gt; used.add(el.className));</span></span><br><span class="hljs-subst"><span class="hljs-string">    <span class="hljs-keyword">return</span> unusedRules: <span class="hljs-built_in">Array</span>.<span class="hljs-keyword">from</span>(<span class="hljs-variable language_">document</span>.styleSheets)</span></span><br><span class="hljs-subst"><span class="hljs-string">      .flatMap(sheet =&gt; <span class="hljs-built_in">Array</span>.<span class="hljs-keyword">from</span>(sheet.cssRules)</span></span><br><span class="hljs-subst"><span class="hljs-string">      .filter(rule =&gt; !used.has(rule.selectorText))</span></span><br><span class="hljs-subst"><span class="hljs-string">  &#125;&#125;</span>)()`</span><br>);<br></code></pre></td></tr></table></figure>

<h1 id="第七章：实战与前沿技术"><a href="#第七章：实战与前沿技术" class="headerlink" title="第七章：实战与前沿技术"></a>第七章：实战与前沿技术</h1><h2 id="7-1-CSS-绘制复杂图形（clip-path、SVG-CSS）"><a href="#7-1-CSS-绘制复杂图形（clip-path、SVG-CSS）" class="headerlink" title="7.1 CSS 绘制复杂图形（clip-path、SVG + CSS）"></a>7.1 CSS 绘制复杂图形（clip-path、SVG + CSS）</h2><h2 id="7-2-暗黑模式实现（prefers-color-scheme）"><a href="#7-2-暗黑模式实现（prefers-color-scheme）" class="headerlink" title="7.2 暗黑模式实现（prefers-color-scheme）"></a>7.2 暗黑模式实现（prefers-color-scheme）</h2><h2 id="7-3-视差滚动（background-attachment）"><a href="#7-3-视差滚动（background-attachment）" class="headerlink" title="7.3 视差滚动（background-attachment）"></a>7.3 视差滚动（background-attachment）</h2><h2 id="7-4-CSS-Houdini（自定义属性、Paint-API）"><a href="#7-4-CSS-Houdini（自定义属性、Paint-API）" class="headerlink" title="7.4 CSS Houdini（自定义属性、Paint API）"></a>7.4 CSS Houdini（自定义属性、Paint API）</h2><h2 id="7-5-未来-CSS-趋势（-container、subgrid、-has-）"><a href="#7-5-未来-CSS-趋势（-container、subgrid、-has-）" class="headerlink" title="7.5 未来 CSS 趋势（@container、subgrid、:has()）"></a>7.5 未来 CSS 趋势（@container、subgrid、:has()）</h2>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/CSS/" class="category-chain-item">CSS</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/CSS/" class="print-no-link">#CSS</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CSS 专题知识学习</div>
      <div>https://tianfei92.github.io/2025/06/22/CSS Study Notes/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Ariel</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年6月22日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/06/23/React%20Study%20Notes/" title="React 知识体系专题学习">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">React 知识体系专题学习</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/06/21/JavaScript%20Prototype/" title="JavaScript 原型/原型链专题知识学习">
                        <span class="hidden-mobile">JavaScript 原型/原型链专题知识学习</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  



  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});

    Fluid.utils.listenDOMLoaded(function() {
      Fluid.events.registerRefreshCallback(function() {
        if ('mermaid' in window) {
          mermaid.init();
        }
      });
    });
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
